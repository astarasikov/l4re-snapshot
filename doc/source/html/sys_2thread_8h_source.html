<html>
  <head>
    <title>L4Re Reference Manual</title>      
    <link href="doxygen.css" rel="stylesheet" type="text/css">
    <link href="tabs.css" rel="stylesheet" type="text/css">
  </HEAD>

  <body style="background: #fff url(header-bg.png) repeat-x scroll 0 0">
   <div>
    <div style="text-align: center; margin-bottom: 10px; border-width: 0 0 1px 0; border-color: #000; border-style: solid">
    L4Re - L4 Runtime Environment
    </div>
<!-- Generated by Doxygen 1.7.1 -->
<script type="text/javascript">
function hasClass(ele,cls) {
  return ele.className.match(new RegExp('(\\s|^)'+cls+'(\\s|$)'));
}

function addClass(ele,cls) {
  if (!this.hasClass(ele,cls)) ele.className += " "+cls;
}

function removeClass(ele,cls) {
  if (hasClass(ele,cls)) {
    var reg = new RegExp('(\\s|^)'+cls+'(\\s|$)');
    ele.className=ele.className.replace(reg,' ');
  }
}

function toggleVisibility(linkObj) {
 var base = linkObj.getAttribute('id');
 var summary = document.getElementById(base + '-summary');
 var content = document.getElementById(base + '-content');
 var trigger = document.getElementById(base + '-trigger');
 if ( hasClass(linkObj,'closed') ) {
   summary.style.display = 'none';
   content.style.display = 'block';
   trigger.src = 'open.png';
   removeClass(linkObj,'closed');
   addClass(linkObj,'opened');
 } else if ( hasClass(linkObj,'opened') ) {
   summary.style.display = 'block';
   content.style.display = 'none';
   trigger.src = 'closed.png';
   removeClass(linkObj,'opened');
   addClass(linkObj,'closed');
 }
 return false;
}
</script>
<div class="navigation" id="top">
  <div class="tabs">
    <ul class="tablist">
      <li><a href="main.html"><span>Main&nbsp;Page</span></a></li>
      <li><a href="pages.html"><span>Related&nbsp;Pages</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li><a href="annotated.html"><span>Data&nbsp;Structures</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
      <li><a href="examples.html"><span>Examples</span></a></li>
    </ul>
  </div>
  <div class="tabs2">
    <ul class="tablist">
      <li><a href="files.html"><span>File&nbsp;List</span></a></li>
    </ul>
  </div>
<div class="header">
  <div class="headertitle">
<h1>l4/sys/thread.h</h1>  </div>
</div>
<div class="contents">
<div class="fragment"><pre class="fragment"><a name="l00001"></a>00001 
<a name="l00005"></a>00005 <span class="comment">/*</span>
<a name="l00006"></a>00006 <span class="comment"> * (c) 2008-2009 Adam Lackorzynski &lt;adam@os.inf.tu-dresden.de&gt;,</span>
<a name="l00007"></a>00007 <span class="comment"> *               Alexander Warg &lt;warg@os.inf.tu-dresden.de&gt;,</span>
<a name="l00008"></a>00008 <span class="comment"> *               Björn Döbel &lt;doebel@os.inf.tu-dresden.de&gt;,</span>
<a name="l00009"></a>00009 <span class="comment"> *               Torsten Frenzel &lt;frenzel@os.inf.tu-dresden.de&gt;</span>
<a name="l00010"></a>00010 <span class="comment"> *     economic rights: Technische Universität Dresden (Germany)</span>
<a name="l00011"></a>00011 <span class="comment"> *</span>
<a name="l00012"></a>00012 <span class="comment"> * This file is part of TUD:OS and distributed under the terms of the</span>
<a name="l00013"></a>00013 <span class="comment"> * GNU General Public License 2.</span>
<a name="l00014"></a>00014 <span class="comment"> * Please see the COPYING-GPL-2 file for details.</span>
<a name="l00015"></a>00015 <span class="comment"> *</span>
<a name="l00016"></a>00016 <span class="comment"> * As a special exception, you may use this file as part of a free software</span>
<a name="l00017"></a>00017 <span class="comment"> * library without restriction.  Specifically, if other files instantiate</span>
<a name="l00018"></a>00018 <span class="comment"> * templates or use macros or inline functions from this file, or you compile</span>
<a name="l00019"></a>00019 <span class="comment"> * this file and link it with other files to produce an executable, this</span>
<a name="l00020"></a>00020 <span class="comment"> * file does not by itself cause the resulting executable to be covered by</span>
<a name="l00021"></a>00021 <span class="comment"> * the GNU General Public License.  This exception does not however</span>
<a name="l00022"></a>00022 <span class="comment"> * invalidate any other reasons why the executable file might be covered by</span>
<a name="l00023"></a>00023 <span class="comment"> * the GNU General Public License.</span>
<a name="l00024"></a>00024 <span class="comment"> */</span>
<a name="l00025"></a>00025 <span class="preprocessor">#pragma once</span>
<a name="l00026"></a>00026 <span class="preprocessor"></span>
<a name="l00027"></a>00027 <span class="preprocessor">#include &lt;l4/sys/types.h&gt;</span>
<a name="l00028"></a>00028 <span class="preprocessor">#include &lt;l4/sys/utcb.h&gt;</span>
<a name="l00029"></a>00029 <span class="preprocessor">#include &lt;l4/sys/ipc.h&gt;</span>
<a name="l00030"></a>00030 
<a name="l00085"></a>00085 L4_INLINE <a class="code" href="structl4__msgtag__t.html" title="Message tag data structure.">l4_msgtag_t</a>
<a name="l00086"></a>00086 <a class="code" href="group__l4__thread__api.html#ga1ea29499c679caeae810516d16f4347c" title="Exchange basic thread registers.">l4_thread_ex_regs</a>(<a class="code" href="group__l4__cap__api.html#ga1445e923ce73029130d569d6e69a4dd8" title="L4 Capability selector Type.">l4_cap_idx_t</a> thread, <a class="code" href="group__l4__basic__types.html#ga4087b991c40c0d2fcde9ca331049a4d4" title="Address type.">l4_addr_t</a> ip, <a class="code" href="group__l4__basic__types.html#ga4087b991c40c0d2fcde9ca331049a4d4" title="Address type.">l4_addr_t</a> sp,
<a name="l00087"></a>00087                   <a class="code" href="group__l4__basic__types.html#ga1c2c4b333f75b1d05b59855910f2b9cb" title="Unsigned machine word.">l4_umword_t</a> flags) L4_NOTHROW;
<a name="l00088"></a>00088 
<a name="l00093"></a>00093 L4_INLINE <a class="code" href="structl4__msgtag__t.html" title="Message tag data structure.">l4_msgtag_t</a>
<a name="l00094"></a>00094 l4_thread_ex_regs_u(<a class="code" href="group__l4__cap__api.html#ga1445e923ce73029130d569d6e69a4dd8" title="L4 Capability selector Type.">l4_cap_idx_t</a> thread, <a class="code" href="group__l4__basic__types.html#ga4087b991c40c0d2fcde9ca331049a4d4" title="Address type.">l4_addr_t</a> ip, <a class="code" href="group__l4__basic__types.html#ga4087b991c40c0d2fcde9ca331049a4d4" title="Address type.">l4_addr_t</a> sp,
<a name="l00095"></a>00095                     <a class="code" href="group__l4__basic__types.html#ga1c2c4b333f75b1d05b59855910f2b9cb" title="Unsigned machine word.">l4_umword_t</a> flags, <a class="code" href="group__l4__utcb__api.html#ga89be8a86d11c1d532b636cc2df1330fb" title="Opaque type for the UTCB.">l4_utcb_t</a> *utcb) L4_NOTHROW;
<a name="l00096"></a>00096 
<a name="l00120"></a>00120 L4_INLINE <a class="code" href="structl4__msgtag__t.html" title="Message tag data structure.">l4_msgtag_t</a>
<a name="l00121"></a>00121 <a class="code" href="group__l4__thread__api.html#ga828e4612273914dcae12c442bcdd2ea1" title="Exchange basic thread registers and return previous values.">l4_thread_ex_regs_ret</a>(<a class="code" href="group__l4__cap__api.html#ga1445e923ce73029130d569d6e69a4dd8" title="L4 Capability selector Type.">l4_cap_idx_t</a> thread, <a class="code" href="group__l4__basic__types.html#ga4087b991c40c0d2fcde9ca331049a4d4" title="Address type.">l4_addr_t</a> *ip, <a class="code" href="group__l4__basic__types.html#ga4087b991c40c0d2fcde9ca331049a4d4" title="Address type.">l4_addr_t</a> *sp,
<a name="l00122"></a>00122                       <a class="code" href="group__l4__basic__types.html#ga1c2c4b333f75b1d05b59855910f2b9cb" title="Unsigned machine word.">l4_umword_t</a> *flags) L4_NOTHROW;
<a name="l00123"></a>00123 
<a name="l00128"></a>00128 L4_INLINE <a class="code" href="structl4__msgtag__t.html" title="Message tag data structure.">l4_msgtag_t</a>
<a name="l00129"></a>00129 l4_thread_ex_regs_ret_u(<a class="code" href="group__l4__cap__api.html#ga1445e923ce73029130d569d6e69a4dd8" title="L4 Capability selector Type.">l4_cap_idx_t</a> thread, <a class="code" href="group__l4__basic__types.html#ga4087b991c40c0d2fcde9ca331049a4d4" title="Address type.">l4_addr_t</a> *ip, <a class="code" href="group__l4__basic__types.html#ga4087b991c40c0d2fcde9ca331049a4d4" title="Address type.">l4_addr_t</a> *sp,
<a name="l00130"></a>00130                         <a class="code" href="group__l4__basic__types.html#ga1c2c4b333f75b1d05b59855910f2b9cb" title="Unsigned machine word.">l4_umword_t</a> *flags, <a class="code" href="group__l4__utcb__api.html#ga89be8a86d11c1d532b636cc2df1330fb" title="Opaque type for the UTCB.">l4_utcb_t</a> *utcb) L4_NOTHROW;
<a name="l00131"></a>00131 
<a name="l00132"></a>00132 
<a name="l00133"></a>00133 
<a name="l00181"></a>00181 L4_INLINE <span class="keywordtype">void</span>
<a name="l00182"></a>00182 <a class="code" href="group__l4__thread__control__api.html#gae37baad7d9eaae8c2d90be7cfadb4271" title="Start a thread control API sequence.">l4_thread_control_start</a>(<span class="keywordtype">void</span>) <a class="code" href="group__l4sys__defines.html#ga362dfa378e662dd04f710a23fc7ea931" title="Mark a function declaration and definition as never throwing an exception.">L4_NOTHROW</a>;
<a name="l00183"></a>00183 
<a name="l00188"></a>00188 L4_INLINE <span class="keywordtype">void</span>
<a name="l00189"></a>00189 l4_thread_control_start_u(<a class="code" href="group__l4__utcb__api.html#ga89be8a86d11c1d532b636cc2df1330fb" title="Opaque type for the UTCB.">l4_utcb_t</a> *utcb) L4_NOTHROW;
<a name="l00190"></a>00190 
<a name="l00200"></a>00200 L4_INLINE <span class="keywordtype">void</span>
<a name="l00201"></a>00201 <a class="code" href="group__l4__thread__control__api.html#gaf3715cba35638941d7a37fce539028a7" title="Set the pager.">l4_thread_control_pager</a>(<a class="code" href="group__l4__cap__api.html#ga1445e923ce73029130d569d6e69a4dd8" title="L4 Capability selector Type.">l4_cap_idx_t</a> pager) L4_NOTHROW;
<a name="l00202"></a>00202 
<a name="l00207"></a>00207 L4_INLINE <span class="keywordtype">void</span>
<a name="l00208"></a>00208 l4_thread_control_pager_u(<a class="code" href="group__l4__cap__api.html#ga1445e923ce73029130d569d6e69a4dd8" title="L4 Capability selector Type.">l4_cap_idx_t</a> pager, <a class="code" href="group__l4__utcb__api.html#ga89be8a86d11c1d532b636cc2df1330fb" title="Opaque type for the UTCB.">l4_utcb_t</a> *utcb) L4_NOTHROW;
<a name="l00209"></a>00209 
<a name="l00219"></a>00219 L4_INLINE <span class="keywordtype">void</span>
<a name="l00220"></a>00220 <a class="code" href="group__l4__thread__control__api.html#gae1ac1c36d9172003c5e53936a56f2ec3" title="Set the exception handler.">l4_thread_control_exc_handler</a>(<a class="code" href="group__l4__cap__api.html#ga1445e923ce73029130d569d6e69a4dd8" title="L4 Capability selector Type.">l4_cap_idx_t</a> exc_handler) L4_NOTHROW;
<a name="l00221"></a>00221 
<a name="l00226"></a>00226 L4_INLINE <span class="keywordtype">void</span>
<a name="l00227"></a>00227 l4_thread_control_exc_handler_u(<a class="code" href="group__l4__cap__api.html#ga1445e923ce73029130d569d6e69a4dd8" title="L4 Capability selector Type.">l4_cap_idx_t</a> exc_handler,
<a name="l00228"></a>00228                                 <a class="code" href="group__l4__utcb__api.html#ga89be8a86d11c1d532b636cc2df1330fb" title="Opaque type for the UTCB.">l4_utcb_t</a> *utcb) L4_NOTHROW;
<a name="l00229"></a>00229 
<a name="l00245"></a>00245 L4_INLINE <span class="keywordtype">void</span>
<a name="l00246"></a>00246 <a class="code" href="group__l4__thread__control__api.html#ga370fd9233ecb6be3c0c697e6f66539ab" title="Bind the thread to a task.">l4_thread_control_bind</a>(<a class="code" href="group__l4__utcb__api.html#ga89be8a86d11c1d532b636cc2df1330fb" title="Opaque type for the UTCB.">l4_utcb_t</a> *thread_utcb,
<a name="l00247"></a>00247                        <a class="code" href="group__l4__cap__api.html#ga1445e923ce73029130d569d6e69a4dd8" title="L4 Capability selector Type.">l4_cap_idx_t</a> task) L4_NOTHROW;
<a name="l00248"></a>00248 
<a name="l00253"></a>00253 L4_INLINE <span class="keywordtype">void</span>
<a name="l00254"></a>00254 l4_thread_control_bind_u(<a class="code" href="group__l4__utcb__api.html#ga89be8a86d11c1d532b636cc2df1330fb" title="Opaque type for the UTCB.">l4_utcb_t</a> *thread_utcb,
<a name="l00255"></a>00255                          <a class="code" href="group__l4__cap__api.html#ga1445e923ce73029130d569d6e69a4dd8" title="L4 Capability selector Type.">l4_cap_idx_t</a> task, <a class="code" href="group__l4__utcb__api.html#ga89be8a86d11c1d532b636cc2df1330fb" title="Opaque type for the UTCB.">l4_utcb_t</a> *utcb) L4_NOTHROW;
<a name="l00256"></a>00256 
<a name="l00271"></a>00271 L4_INLINE <span class="keywordtype">void</span>
<a name="l00272"></a>00272 <a class="code" href="group__l4__thread__control__api.html#gae110d7269bc9a396d388abb0195c45d1" title="Enable alien mode.">l4_thread_control_alien</a>(<span class="keywordtype">int</span> on) L4_NOTHROW;
<a name="l00273"></a>00273 
<a name="l00278"></a>00278 L4_INLINE <span class="keywordtype">void</span>
<a name="l00279"></a>00279 l4_thread_control_alien_u(<a class="code" href="group__l4__utcb__api.html#ga89be8a86d11c1d532b636cc2df1330fb" title="Opaque type for the UTCB.">l4_utcb_t</a> *utcb, <span class="keywordtype">int</span> on) L4_NOTHROW;
<a name="l00280"></a>00280 
<a name="l00291"></a>00291 L4_INLINE <span class="keywordtype">void</span>
<a name="l00292"></a>00292 <a class="code" href="group__l4__thread__control__api.html#gaeaccb490c1356b3691c650b3371bdb77" title="Enable pass through of native host (Linux) system calls.">l4_thread_control_ux_host_syscall</a>(<span class="keywordtype">int</span> on) L4_NOTHROW;
<a name="l00293"></a>00293 
<a name="l00298"></a>00298 L4_INLINE <span class="keywordtype">void</span>
<a name="l00299"></a>00299 l4_thread_control_ux_host_syscall_u(<a class="code" href="group__l4__utcb__api.html#ga89be8a86d11c1d532b636cc2df1330fb" title="Opaque type for the UTCB.">l4_utcb_t</a> *utcb, <span class="keywordtype">int</span> on) L4_NOTHROW;
<a name="l00300"></a>00300 
<a name="l00301"></a>00301 
<a name="l00302"></a>00302 
<a name="l00310"></a>00310 L4_INLINE <a class="code" href="structl4__msgtag__t.html" title="Message tag data structure.">l4_msgtag_t</a>
<a name="l00311"></a>00311 <a class="code" href="group__l4__thread__control__api.html#ga7d07c9032fdd3dd59bcad35ca51176e8" title="Commit the thread control parameters.">l4_thread_control_commit</a>(<a class="code" href="group__l4__cap__api.html#ga1445e923ce73029130d569d6e69a4dd8" title="L4 Capability selector Type.">l4_cap_idx_t</a> thread) L4_NOTHROW;
<a name="l00312"></a>00312 
<a name="l00317"></a>00317 L4_INLINE <a class="code" href="structl4__msgtag__t.html" title="Message tag data structure.">l4_msgtag_t</a>
<a name="l00318"></a>00318 l4_thread_control_commit_u(<a class="code" href="group__l4__cap__api.html#ga1445e923ce73029130d569d6e69a4dd8" title="L4 Capability selector Type.">l4_cap_idx_t</a> thread, <a class="code" href="group__l4__utcb__api.html#ga89be8a86d11c1d532b636cc2df1330fb" title="Opaque type for the UTCB.">l4_utcb_t</a> *utcb) L4_NOTHROW;
<a name="l00319"></a>00319 
<a name="l00326"></a>00326 L4_INLINE <a class="code" href="structl4__msgtag__t.html" title="Message tag data structure.">l4_msgtag_t</a>
<a name="l00327"></a>00327 <a class="code" href="group__l4__thread__api.html#ga5e47131f486f920826b5f72dad82bafe" title="Yield current time slice.">l4_thread_yield</a>(<span class="keywordtype">void</span>) L4_NOTHROW;
<a name="l00328"></a>00328 
<a name="l00337"></a>00337 L4_INLINE <a class="code" href="structl4__msgtag__t.html" title="Message tag data structure.">l4_msgtag_t</a>
<a name="l00338"></a>00338 <a class="code" href="group__l4__thread__api.html#gabc6b8e906087c1fc7b9bb691c47adcbd" title="Switch to another thread (and donate the remaining time slice).">l4_thread_switch</a>(<a class="code" href="group__l4__cap__api.html#ga1445e923ce73029130d569d6e69a4dd8" title="L4 Capability selector Type.">l4_cap_idx_t</a> to_thread) L4_NOTHROW;
<a name="l00339"></a>00339 
<a name="l00344"></a>00344 L4_INLINE <a class="code" href="structl4__msgtag__t.html" title="Message tag data structure.">l4_msgtag_t</a>
<a name="l00345"></a>00345 l4_thread_switch_u(<a class="code" href="group__l4__cap__api.html#ga1445e923ce73029130d569d6e69a4dd8" title="L4 Capability selector Type.">l4_cap_idx_t</a> to_thread, <a class="code" href="group__l4__utcb__api.html#ga89be8a86d11c1d532b636cc2df1330fb" title="Opaque type for the UTCB.">l4_utcb_t</a> *utcb) L4_NOTHROW;
<a name="l00346"></a>00346 
<a name="l00347"></a>00347 
<a name="l00348"></a>00348 
<a name="l00357"></a>00357 L4_INLINE <a class="code" href="structl4__msgtag__t.html" title="Message tag data structure.">l4_msgtag_t</a>
<a name="l00358"></a>00358 <a class="code" href="group__l4__thread__api.html#gad94e1ad323ab7f3f3f94f0523d1018a4" title="Get consumed timed of thread in µs.">l4_thread_stats_time</a>(<a class="code" href="group__l4__cap__api.html#ga1445e923ce73029130d569d6e69a4dd8" title="L4 Capability selector Type.">l4_cap_idx_t</a> thread) L4_NOTHROW;
<a name="l00359"></a>00359 
<a name="l00364"></a>00364 L4_INLINE <a class="code" href="structl4__msgtag__t.html" title="Message tag data structure.">l4_msgtag_t</a>
<a name="l00365"></a>00365 l4_thread_stats_time_u(<a class="code" href="group__l4__cap__api.html#ga1445e923ce73029130d569d6e69a4dd8" title="L4 Capability selector Type.">l4_cap_idx_t</a> thread, <a class="code" href="group__l4__utcb__api.html#ga89be8a86d11c1d532b636cc2df1330fb" title="Opaque type for the UTCB.">l4_utcb_t</a> *utcb) L4_NOTHROW;
<a name="l00366"></a>00366 
<a name="l00367"></a>00367 
<a name="l00378"></a>00378 L4_INLINE <a class="code" href="structl4__msgtag__t.html" title="Message tag data structure.">l4_msgtag_t</a>
<a name="l00379"></a>00379 <a class="code" href="group__l4__thread__api.html#ga6e0620f6b1119d84eac90adad52eabf8" title="vCPU return from event handler.">l4_thread_vcpu_resume_start</a>(<span class="keywordtype">void</span>) L4_NOTHROW;
<a name="l00380"></a>00380 
<a name="l00385"></a>00385 L4_INLINE <a class="code" href="structl4__msgtag__t.html" title="Message tag data structure.">l4_msgtag_t</a>
<a name="l00386"></a>00386 l4_thread_vcpu_resume_start_u(<a class="code" href="group__l4__utcb__api.html#ga89be8a86d11c1d532b636cc2df1330fb" title="Opaque type for the UTCB.">l4_utcb_t</a> *utcb) L4_NOTHROW;
<a name="l00387"></a>00387 
<a name="l00407"></a>00407 L4_INLINE <a class="code" href="structl4__msgtag__t.html" title="Message tag data structure.">l4_msgtag_t</a>
<a name="l00408"></a>00408 <a class="code" href="group__l4__thread__api.html#gaaf8bb1c28a014326dd381bc2d3478da8" title="Commit vCPU resume.">l4_thread_vcpu_resume_commit</a>(<a class="code" href="group__l4__cap__api.html#ga1445e923ce73029130d569d6e69a4dd8" title="L4 Capability selector Type.">l4_cap_idx_t</a> thread,
<a name="l00409"></a>00409                              <a class="code" href="structl4__msgtag__t.html" title="Message tag data structure.">l4_msgtag_t</a> tag) L4_NOTHROW;
<a name="l00410"></a>00410 
<a name="l00415"></a>00415 L4_INLINE <a class="code" href="structl4__msgtag__t.html" title="Message tag data structure.">l4_msgtag_t</a>
<a name="l00416"></a>00416 l4_thread_vcpu_resume_commit_u(<a class="code" href="group__l4__cap__api.html#ga1445e923ce73029130d569d6e69a4dd8" title="L4 Capability selector Type.">l4_cap_idx_t</a> thread,
<a name="l00417"></a>00417                                <a class="code" href="structl4__msgtag__t.html" title="Message tag data structure.">l4_msgtag_t</a> tag, <a class="code" href="group__l4__utcb__api.html#ga89be8a86d11c1d532b636cc2df1330fb" title="Opaque type for the UTCB.">l4_utcb_t</a> *utcb) L4_NOTHROW;
<a name="l00418"></a>00418 
<a name="l00419"></a>00419 
<a name="l00436"></a>00436 L4_INLINE <a class="code" href="structl4__msgtag__t.html" title="Message tag data structure.">l4_msgtag_t</a>
<a name="l00437"></a>00437 <a class="code" href="group__l4__thread__api.html#gac3263f4949c90adda83dba763b195988" title="Enable or disable the vCPU feature for the thread.">l4_thread_vcpu_control</a>(<a class="code" href="group__l4__cap__api.html#ga1445e923ce73029130d569d6e69a4dd8" title="L4 Capability selector Type.">l4_cap_idx_t</a> thread, <a class="code" href="group__l4__basic__types.html#ga4087b991c40c0d2fcde9ca331049a4d4" title="Address type.">l4_addr_t</a> vcpu_state) L4_NOTHROW;
<a name="l00438"></a>00438 
<a name="l00443"></a>00443 L4_INLINE <a class="code" href="structl4__msgtag__t.html" title="Message tag data structure.">l4_msgtag_t</a>
<a name="l00444"></a>00444 l4_thread_vcpu_control_u(<a class="code" href="group__l4__cap__api.html#ga1445e923ce73029130d569d6e69a4dd8" title="L4 Capability selector Type.">l4_cap_idx_t</a> thread, <a class="code" href="group__l4__basic__types.html#ga4087b991c40c0d2fcde9ca331049a4d4" title="Address type.">l4_addr_t</a> vcpu_state,
<a name="l00445"></a>00445                          <a class="code" href="group__l4__utcb__api.html#ga89be8a86d11c1d532b636cc2df1330fb" title="Opaque type for the UTCB.">l4_utcb_t</a> *utcb) L4_NOTHROW;
<a name="l00446"></a>00446 
<a name="l00466"></a>00466 L4_INLINE <a class="code" href="structl4__msgtag__t.html" title="Message tag data structure.">l4_msgtag_t</a>
<a name="l00467"></a>00467 <a class="code" href="group__l4__thread__api.html#ga592d99fe80a0091a837f6001d0d5c25b" title="Enable or disable the extended vCPU feature for the thread.">l4_thread_vcpu_control_ext</a>(<a class="code" href="group__l4__cap__api.html#ga1445e923ce73029130d569d6e69a4dd8" title="L4 Capability selector Type.">l4_cap_idx_t</a> thread, <a class="code" href="group__l4__basic__types.html#ga4087b991c40c0d2fcde9ca331049a4d4" title="Address type.">l4_addr_t</a> ext_vcpu_state) L4_NOTHROW;
<a name="l00468"></a>00468 
<a name="l00473"></a>00473 L4_INLINE <a class="code" href="structl4__msgtag__t.html" title="Message tag data structure.">l4_msgtag_t</a>
<a name="l00474"></a>00474 l4_thread_vcpu_control_ext_u(<a class="code" href="group__l4__cap__api.html#ga1445e923ce73029130d569d6e69a4dd8" title="L4 Capability selector Type.">l4_cap_idx_t</a> thread, <a class="code" href="group__l4__basic__types.html#ga4087b991c40c0d2fcde9ca331049a4d4" title="Address type.">l4_addr_t</a> ext_vcpu_state,
<a name="l00475"></a>00475                              <a class="code" href="group__l4__utcb__api.html#ga89be8a86d11c1d532b636cc2df1330fb" title="Opaque type for the UTCB.">l4_utcb_t</a> *utcb) L4_NOTHROW;
<a name="l00476"></a>00476 
<a name="l00477"></a>00477 
<a name="l00487"></a>00487 L4_INLINE <a class="code" href="structl4__msgtag__t.html" title="Message tag data structure.">l4_msgtag_t</a>
<a name="l00488"></a>00488 <a class="code" href="group__l4__thread__api.html#ga9dded96485c96c7a3389ea00f5a305d1" title="Register an IRQ that will trigger upon deletion events.">l4_thread_register_del_irq</a>(<a class="code" href="group__l4__cap__api.html#ga1445e923ce73029130d569d6e69a4dd8" title="L4 Capability selector Type.">l4_cap_idx_t</a> thread, <a class="code" href="group__l4__cap__api.html#ga1445e923ce73029130d569d6e69a4dd8" title="L4 Capability selector Type.">l4_cap_idx_t</a> irq) L4_NOTHROW;
<a name="l00489"></a>00489 
<a name="l00494"></a>00494 L4_INLINE <a class="code" href="structl4__msgtag__t.html" title="Message tag data structure.">l4_msgtag_t</a>
<a name="l00495"></a>00495 l4_thread_register_del_irq_u(<a class="code" href="group__l4__cap__api.html#ga1445e923ce73029130d569d6e69a4dd8" title="L4 Capability selector Type.">l4_cap_idx_t</a> thread, <a class="code" href="group__l4__cap__api.html#ga1445e923ce73029130d569d6e69a4dd8" title="L4 Capability selector Type.">l4_cap_idx_t</a> irq,
<a name="l00496"></a>00496                              <a class="code" href="group__l4__utcb__api.html#ga89be8a86d11c1d532b636cc2df1330fb" title="Opaque type for the UTCB.">l4_utcb_t</a> *utcb) L4_NOTHROW;
<a name="l00497"></a>00497 
<a name="l00509"></a>00509 L4_INLINE <a class="code" href="structl4__msgtag__t.html" title="Message tag data structure.">l4_msgtag_t</a>
<a name="l00510"></a>00510 <a class="code" href="group__l4__thread__api.html#ga06ff88cfe27ad4f6c67fa0dc36e6c261" title="Start a thread sender modifiction sequence.">l4_thread_modify_sender_start</a>(<span class="keywordtype">void</span>) L4_NOTHROW;
<a name="l00511"></a>00511 
<a name="l00516"></a>00516 L4_INLINE <a class="code" href="structl4__msgtag__t.html" title="Message tag data structure.">l4_msgtag_t</a>
<a name="l00517"></a>00517 l4_thread_modify_sender_start_u(<a class="code" href="group__l4__utcb__api.html#ga89be8a86d11c1d532b636cc2df1330fb" title="Opaque type for the UTCB.">l4_utcb_t</a> *u) L4_NOTHROW;
<a name="l00518"></a>00518 
<a name="l00543"></a>00543 L4_INLINE <span class="keywordtype">int</span>
<a name="l00544"></a>00544 <a class="code" href="group__l4__thread__api.html#ga424473745319d388b8c1378699cec20d" title="Add a modification pattern to a sender modification sequence.">l4_thread_modify_sender_add</a>(<a class="code" href="group__l4__basic__types.html#ga1c2c4b333f75b1d05b59855910f2b9cb" title="Unsigned machine word.">l4_umword_t</a> match_mask,
<a name="l00545"></a>00545                             <a class="code" href="group__l4__basic__types.html#ga1c2c4b333f75b1d05b59855910f2b9cb" title="Unsigned machine word.">l4_umword_t</a> match,
<a name="l00546"></a>00546                             <a class="code" href="group__l4__basic__types.html#ga1c2c4b333f75b1d05b59855910f2b9cb" title="Unsigned machine word.">l4_umword_t</a> del_bits,
<a name="l00547"></a>00547                             <a class="code" href="group__l4__basic__types.html#ga1c2c4b333f75b1d05b59855910f2b9cb" title="Unsigned machine word.">l4_umword_t</a> add_bits,
<a name="l00548"></a>00548                             <a class="code" href="structl4__msgtag__t.html" title="Message tag data structure.">l4_msgtag_t</a> *tag) L4_NOTHROW;
<a name="l00549"></a>00549 
<a name="l00554"></a>00554 L4_INLINE <span class="keywordtype">int</span>
<a name="l00555"></a>00555 l4_thread_modify_sender_add_u(<a class="code" href="group__l4__basic__types.html#ga1c2c4b333f75b1d05b59855910f2b9cb" title="Unsigned machine word.">l4_umword_t</a> match_mask,
<a name="l00556"></a>00556                               <a class="code" href="group__l4__basic__types.html#ga1c2c4b333f75b1d05b59855910f2b9cb" title="Unsigned machine word.">l4_umword_t</a> match,
<a name="l00557"></a>00557                               <a class="code" href="group__l4__basic__types.html#ga1c2c4b333f75b1d05b59855910f2b9cb" title="Unsigned machine word.">l4_umword_t</a> del_bits,
<a name="l00558"></a>00558                               <a class="code" href="group__l4__basic__types.html#ga1c2c4b333f75b1d05b59855910f2b9cb" title="Unsigned machine word.">l4_umword_t</a> add_bits,
<a name="l00559"></a>00559                               <a class="code" href="structl4__msgtag__t.html" title="Message tag data structure.">l4_msgtag_t</a> *tag, <a class="code" href="group__l4__utcb__api.html#ga89be8a86d11c1d532b636cc2df1330fb" title="Opaque type for the UTCB.">l4_utcb_t</a> *u) L4_NOTHROW;
<a name="l00560"></a>00560 
<a name="l00568"></a>00568 L4_INLINE <a class="code" href="structl4__msgtag__t.html" title="Message tag data structure.">l4_msgtag_t</a>
<a name="l00569"></a>00569 <a class="code" href="group__l4__thread__api.html#gab4f2106933cf35dc0d4fb2e97e093aef" title="Apply (commit) a sender modification sequence.">l4_thread_modify_sender_commit</a>(<a class="code" href="group__l4__cap__api.html#ga1445e923ce73029130d569d6e69a4dd8" title="L4 Capability selector Type.">l4_cap_idx_t</a> thread, <a class="code" href="structl4__msgtag__t.html" title="Message tag data structure.">l4_msgtag_t</a> tag) L4_NOTHROW;
<a name="l00570"></a>00570 
<a name="l00575"></a>00575 L4_INLINE <a class="code" href="structl4__msgtag__t.html" title="Message tag data structure.">l4_msgtag_t</a>
<a name="l00576"></a>00576 l4_thread_modify_sender_commit_u(<a class="code" href="group__l4__cap__api.html#ga1445e923ce73029130d569d6e69a4dd8" title="L4 Capability selector Type.">l4_cap_idx_t</a> thread, <a class="code" href="structl4__msgtag__t.html" title="Message tag data structure.">l4_msgtag_t</a> tag,
<a name="l00577"></a>00577                                  <a class="code" href="group__l4__utcb__api.html#ga89be8a86d11c1d532b636cc2df1330fb" title="Opaque type for the UTCB.">l4_utcb_t</a> *u) L4_NOTHROW;
<a name="l00578"></a>00578 
<a name="l00585"></a><a class="code" href="group__l4__thread__api.html#ga2f876d49c3d78a1c0d62722c0546aa81">00585</a> enum <a class="code" href="group__l4__thread__api.html#ga2f876d49c3d78a1c0d62722c0546aa81" title="Operations on thread objects.">L4_thread_ops</a>
<a name="l00586"></a>00586 {
<a name="l00587"></a><a class="code" href="group__l4__thread__api.html#gga2f876d49c3d78a1c0d62722c0546aa81aacb3f3ae289e1f8caf576881c290be86">00587</a>   <a class="code" href="group__l4__thread__api.html#gga2f876d49c3d78a1c0d62722c0546aa81aacb3f3ae289e1f8caf576881c290be86" title="Control operation.">L4_THREAD_CONTROL_OP</a>            = 0UL,    
<a name="l00588"></a><a class="code" href="group__l4__thread__api.html#gga2f876d49c3d78a1c0d62722c0546aa81a7c7d352bfe41fe77552b09b1b0e73c61">00588</a>   <a class="code" href="group__l4__thread__api.html#gga2f876d49c3d78a1c0d62722c0546aa81a7c7d352bfe41fe77552b09b1b0e73c61" title="Exchange registers operation.">L4_THREAD_EX_REGS_OP</a>            = 1UL,    
<a name="l00589"></a><a class="code" href="group__l4__thread__api.html#gga2f876d49c3d78a1c0d62722c0546aa81af935129912993ca4136ec5e303151d5a">00589</a>   <a class="code" href="group__l4__thread__api.html#gga2f876d49c3d78a1c0d62722c0546aa81af935129912993ca4136ec5e303151d5a" title="Do a thread switch.">L4_THREAD_SWITCH_OP</a>             = 2UL,    
<a name="l00590"></a><a class="code" href="group__l4__thread__api.html#gga2f876d49c3d78a1c0d62722c0546aa81a7d71934db94b73d2ef264caa417ab84e">00590</a>   <a class="code" href="group__l4__thread__api.html#gga2f876d49c3d78a1c0d62722c0546aa81a7d71934db94b73d2ef264caa417ab84e" title="Thread statistics.">L4_THREAD_STATS_OP</a>              = 3UL,    
<a name="l00591"></a><a class="code" href="group__l4__thread__api.html#gga2f876d49c3d78a1c0d62722c0546aa81ac41e0679a9eb99e22eee11c6a2dfe8ec">00591</a>   <a class="code" href="group__l4__thread__api.html#gga2f876d49c3d78a1c0d62722c0546aa81ac41e0679a9eb99e22eee11c6a2dfe8ec" title="VCPU resume.">L4_THREAD_VCPU_RESUME_OP</a>        = 4UL,    
<a name="l00592"></a><a class="code" href="group__l4__thread__api.html#gga2f876d49c3d78a1c0d62722c0546aa81a2215b5945dec49d09d1fd4e0f0db2bf6">00592</a>   <a class="code" href="group__l4__thread__api.html#gga2f876d49c3d78a1c0d62722c0546aa81a2215b5945dec49d09d1fd4e0f0db2bf6" title="Register an IPC-gate deletion IRQ.">L4_THREAD_REGISTER_DELETE_IRQ</a>   = 5UL,    
<a name="l00593"></a><a class="code" href="group__l4__thread__api.html#gga2f876d49c3d78a1c0d62722c0546aa81a7fc2d293447bea1274f1cc55bfb0b022">00593</a>   <a class="code" href="group__l4__thread__api.html#gga2f876d49c3d78a1c0d62722c0546aa81a7fc2d293447bea1274f1cc55bfb0b022" title="Modify all senders IDs that match the given pattern.">L4_THREAD_MODIFY_SENDER</a>         = 6UL,    
<a name="l00594"></a><a class="code" href="group__l4__thread__api.html#gga2f876d49c3d78a1c0d62722c0546aa81a5efe7984c05d4ffbdfb0437359689ce2">00594</a>   <a class="code" href="group__l4__thread__api.html#gga2f876d49c3d78a1c0d62722c0546aa81a5efe7984c05d4ffbdfb0437359689ce2" title="Enable / disable VCPU feature.">L4_THREAD_VCPU_CONTROL</a>          = 7UL,    
<a name="l00595"></a>00595   L4_THREAD_VCPU_CONTROL_EXT      = <a class="code" href="group__l4__thread__api.html#gga2f876d49c3d78a1c0d62722c0546aa81a5efe7984c05d4ffbdfb0437359689ce2" title="Enable / disable VCPU feature.">L4_THREAD_VCPU_CONTROL</a> | 0x10000,
<a name="l00596"></a><a class="code" href="group__l4__thread__api.html#gga2f876d49c3d78a1c0d62722c0546aa81a5882a049eb4d9f3d0ef98cef3d13292a">00596</a>   <a class="code" href="group__l4__thread__api.html#gga2f876d49c3d78a1c0d62722c0546aa81a5882a049eb4d9f3d0ef98cef3d13292a" title="Gdt.">L4_THREAD_GDT_X86_OP</a>            = 0x10UL, 
<a name="l00597"></a><a class="code" href="group__l4__thread__api.html#gga2f876d49c3d78a1c0d62722c0546aa81a171dbdf3515adfdbce0cc39dad966c92">00597</a>   <a class="code" href="group__l4__thread__api.html#gga2f876d49c3d78a1c0d62722c0546aa81a171dbdf3515adfdbce0cc39dad966c92" title="Mask for opcodes.">L4_THREAD_OPCODE_MASK</a>           = 0xffff, 
<a name="l00598"></a>00598 };
<a name="l00599"></a>00599 
<a name="l00610"></a><a class="code" href="group__l4__thread__api.html#ga7ac6f1aa334f0638cc45e1c0ae591925">00610</a> <span class="keyword">enum</span> <a class="code" href="group__l4__thread__api.html#ga7ac6f1aa334f0638cc45e1c0ae591925" title="Flags for the thread control operation.">L4_thread_control_flags</a>
<a name="l00611"></a>00611 {
<a name="l00613"></a><a class="code" href="group__l4__thread__api.html#gga7ac6f1aa334f0638cc45e1c0ae591925a05916c8b8ff1dc3af791319a4947011d">00613</a>   <a class="code" href="group__l4__thread__api.html#gga7ac6f1aa334f0638cc45e1c0ae591925a05916c8b8ff1dc3af791319a4947011d" title="The pager will be given.">L4_THREAD_CONTROL_SET_PAGER</a>       = 0x0010000,
<a name="l00615"></a><a class="code" href="group__l4__thread__api.html#gga7ac6f1aa334f0638cc45e1c0ae591925a2069ba7ba4f79568dfb9e360600a9789">00615</a>   <a class="code" href="group__l4__thread__api.html#gga7ac6f1aa334f0638cc45e1c0ae591925a2069ba7ba4f79568dfb9e360600a9789" title="The task to bind the thread to will be given.">L4_THREAD_CONTROL_BIND_TASK</a>       = 0x0200000,
<a name="l00617"></a><a class="code" href="group__l4__thread__api.html#gga7ac6f1aa334f0638cc45e1c0ae591925a4fc822df7c8c2f0a5937031466919de2">00617</a>   <a class="code" href="group__l4__thread__api.html#gga7ac6f1aa334f0638cc45e1c0ae591925a4fc822df7c8c2f0a5937031466919de2" title="Alien state of the thread is set.">L4_THREAD_CONTROL_ALIEN</a>           = 0x0400000,
<a name="l00619"></a><a class="code" href="group__l4__thread__api.html#gga7ac6f1aa334f0638cc45e1c0ae591925a2c57051ba531e46216ae49471f6cb245">00619</a>   <a class="code" href="group__l4__thread__api.html#gga7ac6f1aa334f0638cc45e1c0ae591925a2c57051ba531e46216ae49471f6cb245" title="Fiasco-UX only: pass-through of host system calls is set.">L4_THREAD_CONTROL_UX_NATIVE</a>       = 0x0800000,
<a name="l00621"></a><a class="code" href="group__l4__thread__api.html#gga7ac6f1aa334f0638cc45e1c0ae591925a910fc3b6b20a2efe8b2f9b600e9ce768">00621</a>   <a class="code" href="group__l4__thread__api.html#gga7ac6f1aa334f0638cc45e1c0ae591925a910fc3b6b20a2efe8b2f9b600e9ce768" title="The exception handler of the thread will be given.">L4_THREAD_CONTROL_SET_EXC_HANDLER</a> = 0x1000000,
<a name="l00622"></a>00622 };
<a name="l00623"></a>00623 
<a name="l00633"></a><a class="code" href="group__l4__thread__api.html#gada4810653b18bca5841f3aa8387502a0">00633</a> <span class="keyword">enum</span> <a class="code" href="group__l4__thread__api.html#gada4810653b18bca5841f3aa8387502a0" title="Indices for the values in the message register for thread control.">L4_thread_control_mr_indices</a>
<a name="l00634"></a>00634 {
<a name="l00635"></a><a class="code" href="group__l4__thread__api.html#ggada4810653b18bca5841f3aa8387502a0ae15c7a84fad7b912acfcb81265caa2f7">00635</a>   <a class="code" href="group__l4__thread__api.html#ggada4810653b18bca5841f3aa8387502a0ae15c7a84fad7b912acfcb81265caa2f7">L4_THREAD_CONTROL_MR_IDX_FLAGS</a>       = 0, 
<a name="l00636"></a><a class="code" href="group__l4__thread__api.html#ggada4810653b18bca5841f3aa8387502a0a424b3194b01d0d2b2aa60e8ea113e00a">00636</a>   <a class="code" href="group__l4__thread__api.html#ggada4810653b18bca5841f3aa8387502a0a424b3194b01d0d2b2aa60e8ea113e00a" title="Index for pager cap.">L4_THREAD_CONTROL_MR_IDX_PAGER</a>       = 1, 
<a name="l00637"></a><a class="code" href="group__l4__thread__api.html#ggada4810653b18bca5841f3aa8387502a0a48b2e97a497f3a616fde1e6bb539f616">00637</a>   <a class="code" href="group__l4__thread__api.html#ggada4810653b18bca5841f3aa8387502a0a48b2e97a497f3a616fde1e6bb539f616" title="Index for exception handler.">L4_THREAD_CONTROL_MR_IDX_EXC_HANDLER</a> = 2, 
<a name="l00638"></a><a class="code" href="group__l4__thread__api.html#ggada4810653b18bca5841f3aa8387502a0a2114b332ccffd11438e23c7a4030f210">00638</a>   <a class="code" href="group__l4__thread__api.html#ggada4810653b18bca5841f3aa8387502a0a2114b332ccffd11438e23c7a4030f210" title="Index for feature values.">L4_THREAD_CONTROL_MR_IDX_FLAG_VALS</a>   = 4, 
<a name="l00639"></a><a class="code" href="group__l4__thread__api.html#ggada4810653b18bca5841f3aa8387502a0ae82a43035e80a26cdf53465a0f65b8f3">00639</a>   <a class="code" href="group__l4__thread__api.html#ggada4810653b18bca5841f3aa8387502a0ae82a43035e80a26cdf53465a0f65b8f3" title="Index for UTCB address for bind.">L4_THREAD_CONTROL_MR_IDX_BIND_UTCB</a>   = 5, 
<a name="l00640"></a><a class="code" href="group__l4__thread__api.html#ggada4810653b18bca5841f3aa8387502a0a43e990553f65b5cfffc6300b4d36a57d">00640</a>   <a class="code" href="group__l4__thread__api.html#ggada4810653b18bca5841f3aa8387502a0a43e990553f65b5cfffc6300b4d36a57d" title="Index for task flex-page for bind.">L4_THREAD_CONTROL_MR_IDX_BIND_TASK</a>   = 6, 
<a name="l00641"></a>00641 };
<a name="l00642"></a>00642 
<a name="l00648"></a><a class="code" href="group__l4__thread__api.html#ga288a4500e4be2587d2f16d754d1a2e16">00648</a> <span class="keyword">enum</span> <a class="code" href="group__l4__thread__api.html#ga288a4500e4be2587d2f16d754d1a2e16" title="Flags for the thread ex-regs operation.">L4_thread_ex_regs_flags</a>
<a name="l00649"></a>00649 {
<a name="l00650"></a><a class="code" href="group__l4__thread__api.html#gga288a4500e4be2587d2f16d754d1a2e16aa13ff4d1b899982508b9ad36c61fe47a">00650</a>   <a class="code" href="group__l4__thread__api.html#gga288a4500e4be2587d2f16d754d1a2e16aa13ff4d1b899982508b9ad36c61fe47a" title="Cancel ongoing IPC in the thread.">L4_THREAD_EX_REGS_CANCEL</a>            = 0x10000UL, 
<a name="l00651"></a><a class="code" href="group__l4__thread__api.html#gga288a4500e4be2587d2f16d754d1a2e16abed26b392ea6e1ee9f468246ae19bf35">00651</a>   <a class="code" href="group__l4__thread__api.html#gga288a4500e4be2587d2f16d754d1a2e16abed26b392ea6e1ee9f468246ae19bf35" title="Trigger artificial exception in thread.">L4_THREAD_EX_REGS_TRIGGER_EXCEPTION</a> = 0x20000UL, 
<a name="l00652"></a>00652 };
<a name="l00653"></a>00653 
<a name="l00654"></a>00654 
<a name="l00655"></a>00655 <span class="comment">/* IMPLEMENTATION -----------------------------------------------------------*/</span>
<a name="l00656"></a>00656 
<a name="l00657"></a>00657 <span class="preprocessor">#include &lt;l4/sys/ipc.h&gt;</span>
<a name="l00658"></a>00658 <span class="preprocessor">#include &lt;l4/sys/types.h&gt;</span>
<a name="l00659"></a>00659 
<a name="l00660"></a>00660 L4_INLINE <a class="code" href="structl4__msgtag__t.html" title="Message tag data structure.">l4_msgtag_t</a>
<a name="l00661"></a>00661 l4_thread_ex_regs_u(<a class="code" href="group__l4__cap__api.html#ga1445e923ce73029130d569d6e69a4dd8" title="L4 Capability selector Type.">l4_cap_idx_t</a> thread, <a class="code" href="group__l4__basic__types.html#ga4087b991c40c0d2fcde9ca331049a4d4" title="Address type.">l4_addr_t</a> ip, <a class="code" href="group__l4__basic__types.html#ga4087b991c40c0d2fcde9ca331049a4d4" title="Address type.">l4_addr_t</a> sp,
<a name="l00662"></a>00662                     <a class="code" href="group__l4__basic__types.html#ga1c2c4b333f75b1d05b59855910f2b9cb" title="Unsigned machine word.">l4_umword_t</a> flags, <a class="code" href="group__l4__utcb__api.html#ga89be8a86d11c1d532b636cc2df1330fb" title="Opaque type for the UTCB.">l4_utcb_t</a> *utcb) <a class="code" href="group__l4sys__defines.html#ga362dfa378e662dd04f710a23fc7ea931" title="Mark a function declaration and definition as never throwing an exception.">L4_NOTHROW</a>
<a name="l00663"></a>00663 {
<a name="l00664"></a>00664   <a class="code" href="structl4__msg__regs__t.html" title="Encapsulation of the message-register block in the UTCB.">l4_msg_regs_t</a> *v = l4_utcb_mr_u(utcb);
<a name="l00665"></a>00665   v-&gt;<a class="code" href="structl4__msg__regs__t.html#ad7d601b3b3808afaefe4c09d42de8b99" title="Message registers.">mr</a>[0] = <a class="code" href="group__l4__thread__api.html#gga2f876d49c3d78a1c0d62722c0546aa81a7c7d352bfe41fe77552b09b1b0e73c61" title="Exchange registers operation.">L4_THREAD_EX_REGS_OP</a> | flags;
<a name="l00666"></a>00666   v-&gt;<a class="code" href="structl4__msg__regs__t.html#ad7d601b3b3808afaefe4c09d42de8b99" title="Message registers.">mr</a>[1] = ip;
<a name="l00667"></a>00667   v-&gt;<a class="code" href="structl4__msg__regs__t.html#ad7d601b3b3808afaefe4c09d42de8b99" title="Message registers.">mr</a>[2] = sp;
<a name="l00668"></a>00668   <span class="keywordflow">return</span> <a class="code" href="group__l4__ipc__api.html#gad1b4180d489c3fa25386a93cda95d00b" title="Object call (usual invocation).">l4_ipc_call</a>(thread, utcb, <a class="code" href="group__l4__msgtag__api.html#ga80cb4e4d8263e92c14c212d6108bbd19" title="Create a message tag from the specified values.">l4_msgtag</a>(<a class="code" href="group__l4__msgtag__api.html#gga61165805662641702f50e4f524a8df01a924bae5fb10fe4a7ad46e959a7fa87d3" title="Protocol for messages to a thread object.">L4_PROTO_THREAD</a>, 3, 0, 0), <a class="code" href="group__l4__timeout__api.html#gaf01c5e1475efc4f33bc7d1985f7320d3" title="never timeout">L4_IPC_NEVER</a>);
<a name="l00669"></a>00669 }
<a name="l00670"></a>00670 
<a name="l00671"></a>00671 L4_INLINE <a class="code" href="structl4__msgtag__t.html" title="Message tag data structure.">l4_msgtag_t</a>
<a name="l00672"></a>00672 l4_thread_ex_regs_ret_u(<a class="code" href="group__l4__cap__api.html#ga1445e923ce73029130d569d6e69a4dd8" title="L4 Capability selector Type.">l4_cap_idx_t</a> thread, <a class="code" href="group__l4__basic__types.html#ga4087b991c40c0d2fcde9ca331049a4d4" title="Address type.">l4_addr_t</a> *ip, <a class="code" href="group__l4__basic__types.html#ga4087b991c40c0d2fcde9ca331049a4d4" title="Address type.">l4_addr_t</a> *sp,
<a name="l00673"></a>00673                         <a class="code" href="group__l4__basic__types.html#ga1c2c4b333f75b1d05b59855910f2b9cb" title="Unsigned machine word.">l4_umword_t</a> *flags, <a class="code" href="group__l4__utcb__api.html#ga89be8a86d11c1d532b636cc2df1330fb" title="Opaque type for the UTCB.">l4_utcb_t</a> *utcb) <a class="code" href="group__l4sys__defines.html#ga362dfa378e662dd04f710a23fc7ea931" title="Mark a function declaration and definition as never throwing an exception.">L4_NOTHROW</a>
<a name="l00674"></a>00674 {
<a name="l00675"></a>00675   <a class="code" href="structl4__msg__regs__t.html" title="Encapsulation of the message-register block in the UTCB.">l4_msg_regs_t</a> *v = l4_utcb_mr_u(utcb);
<a name="l00676"></a>00676   <a class="code" href="structl4__msgtag__t.html" title="Message tag data structure.">l4_msgtag_t</a> ret = l4_thread_ex_regs_u(thread, *ip, *sp, *flags, utcb);
<a name="l00677"></a>00677   <span class="keywordflow">if</span> (l4_error_u(ret, utcb))
<a name="l00678"></a>00678     <span class="keywordflow">return</span> ret;
<a name="l00679"></a>00679 
<a name="l00680"></a>00680   *flags = v-&gt;<a class="code" href="structl4__msg__regs__t.html#ad7d601b3b3808afaefe4c09d42de8b99" title="Message registers.">mr</a>[0];
<a name="l00681"></a>00681   *ip    = v-&gt;<a class="code" href="structl4__msg__regs__t.html#ad7d601b3b3808afaefe4c09d42de8b99" title="Message registers.">mr</a>[1];
<a name="l00682"></a>00682   *sp    = v-&gt;<a class="code" href="structl4__msg__regs__t.html#ad7d601b3b3808afaefe4c09d42de8b99" title="Message registers.">mr</a>[2];
<a name="l00683"></a>00683   <span class="keywordflow">return</span> ret;
<a name="l00684"></a>00684 }
<a name="l00685"></a>00685 
<a name="l00686"></a>00686 L4_INLINE <span class="keywordtype">void</span>
<a name="l00687"></a>00687 l4_thread_control_start_u(<a class="code" href="group__l4__utcb__api.html#ga89be8a86d11c1d532b636cc2df1330fb" title="Opaque type for the UTCB.">l4_utcb_t</a> *utcb) <a class="code" href="group__l4sys__defines.html#ga362dfa378e662dd04f710a23fc7ea931" title="Mark a function declaration and definition as never throwing an exception.">L4_NOTHROW</a>
<a name="l00688"></a>00688 {
<a name="l00689"></a>00689   <a class="code" href="structl4__msg__regs__t.html" title="Encapsulation of the message-register block in the UTCB.">l4_msg_regs_t</a> *v = l4_utcb_mr_u(utcb);
<a name="l00690"></a>00690   v-&gt;<a class="code" href="structl4__msg__regs__t.html#ad7d601b3b3808afaefe4c09d42de8b99" title="Message registers.">mr</a>[L4_THREAD_CONTROL_MR_IDX_FLAGS] = L4_THREAD_CONTROL_OP;
<a name="l00691"></a>00691 }
<a name="l00692"></a>00692 
<a name="l00693"></a>00693 L4_INLINE <span class="keywordtype">void</span>
<a name="l00694"></a>00694 l4_thread_control_pager_u(<a class="code" href="group__l4__cap__api.html#ga1445e923ce73029130d569d6e69a4dd8" title="L4 Capability selector Type.">l4_cap_idx_t</a> pager, <a class="code" href="group__l4__utcb__api.html#ga89be8a86d11c1d532b636cc2df1330fb" title="Opaque type for the UTCB.">l4_utcb_t</a> *utcb) <a class="code" href="group__l4sys__defines.html#ga362dfa378e662dd04f710a23fc7ea931" title="Mark a function declaration and definition as never throwing an exception.">L4_NOTHROW</a>
<a name="l00695"></a>00695 {
<a name="l00696"></a>00696   <a class="code" href="structl4__msg__regs__t.html" title="Encapsulation of the message-register block in the UTCB.">l4_msg_regs_t</a> *v = l4_utcb_mr_u(utcb);
<a name="l00697"></a>00697   v-&gt;<a class="code" href="structl4__msg__regs__t.html#ad7d601b3b3808afaefe4c09d42de8b99" title="Message registers.">mr</a>[L4_THREAD_CONTROL_MR_IDX_FLAGS] |= L4_THREAD_CONTROL_SET_PAGER;
<a name="l00698"></a>00698   v-&gt;<a class="code" href="structl4__msg__regs__t.html#ad7d601b3b3808afaefe4c09d42de8b99" title="Message registers.">mr</a>[L4_THREAD_CONTROL_MR_IDX_PAGER]  = pager;
<a name="l00699"></a>00699 }
<a name="l00700"></a>00700 
<a name="l00701"></a>00701 L4_INLINE <span class="keywordtype">void</span>
<a name="l00702"></a>00702 l4_thread_control_exc_handler_u(<a class="code" href="group__l4__cap__api.html#ga1445e923ce73029130d569d6e69a4dd8" title="L4 Capability selector Type.">l4_cap_idx_t</a> exc_handler,
<a name="l00703"></a>00703                                 <a class="code" href="group__l4__utcb__api.html#ga89be8a86d11c1d532b636cc2df1330fb" title="Opaque type for the UTCB.">l4_utcb_t</a> *utcb) <a class="code" href="group__l4sys__defines.html#ga362dfa378e662dd04f710a23fc7ea931" title="Mark a function declaration and definition as never throwing an exception.">L4_NOTHROW</a>
<a name="l00704"></a>00704 {
<a name="l00705"></a>00705   <a class="code" href="structl4__msg__regs__t.html" title="Encapsulation of the message-register block in the UTCB.">l4_msg_regs_t</a> *v = l4_utcb_mr_u(utcb);
<a name="l00706"></a>00706   v-&gt;<a class="code" href="structl4__msg__regs__t.html#ad7d601b3b3808afaefe4c09d42de8b99" title="Message registers.">mr</a>[L4_THREAD_CONTROL_MR_IDX_FLAGS]       |= L4_THREAD_CONTROL_SET_EXC_HANDLER;
<a name="l00707"></a>00707   v-&gt;<a class="code" href="structl4__msg__regs__t.html#ad7d601b3b3808afaefe4c09d42de8b99" title="Message registers.">mr</a>[L4_THREAD_CONTROL_MR_IDX_EXC_HANDLER]  = exc_handler;
<a name="l00708"></a>00708 }
<a name="l00709"></a>00709 
<a name="l00710"></a>00710 L4_INLINE <span class="keywordtype">void</span>
<a name="l00711"></a>00711 l4_thread_control_bind_u(<a class="code" href="group__l4__utcb__api.html#ga89be8a86d11c1d532b636cc2df1330fb" title="Opaque type for the UTCB.">l4_utcb_t</a> *thread_utcb, <a class="code" href="group__l4__cap__api.html#ga1445e923ce73029130d569d6e69a4dd8" title="L4 Capability selector Type.">l4_cap_idx_t</a> task,
<a name="l00712"></a>00712                          <a class="code" href="group__l4__utcb__api.html#ga89be8a86d11c1d532b636cc2df1330fb" title="Opaque type for the UTCB.">l4_utcb_t</a> *utcb) <a class="code" href="group__l4sys__defines.html#ga362dfa378e662dd04f710a23fc7ea931" title="Mark a function declaration and definition as never throwing an exception.">L4_NOTHROW</a>
<a name="l00713"></a>00713 {
<a name="l00714"></a>00714   <a class="code" href="structl4__msg__regs__t.html" title="Encapsulation of the message-register block in the UTCB.">l4_msg_regs_t</a> *v = l4_utcb_mr_u(utcb);
<a name="l00715"></a>00715   v-&gt;<a class="code" href="structl4__msg__regs__t.html#ad7d601b3b3808afaefe4c09d42de8b99" title="Message registers.">mr</a>[L4_THREAD_CONTROL_MR_IDX_FLAGS]         |= L4_THREAD_CONTROL_BIND_TASK;
<a name="l00716"></a>00716   v-&gt;<a class="code" href="structl4__msg__regs__t.html#ad7d601b3b3808afaefe4c09d42de8b99" title="Message registers.">mr</a>[L4_THREAD_CONTROL_MR_IDX_BIND_UTCB]      = (l4_addr_t)thread_utcb;
<a name="l00717"></a>00717   v-&gt;<a class="code" href="structl4__msg__regs__t.html#ad7d601b3b3808afaefe4c09d42de8b99" title="Message registers.">mr</a>[L4_THREAD_CONTROL_MR_IDX_BIND_TASK]      = L4_ITEM_MAP;
<a name="l00718"></a>00718   v-&gt;<a class="code" href="structl4__msg__regs__t.html#ad7d601b3b3808afaefe4c09d42de8b99" title="Message registers.">mr</a>[<a class="code" href="group__l4__thread__api.html#ggada4810653b18bca5841f3aa8387502a0a43e990553f65b5cfffc6300b4d36a57d" title="Index for task flex-page for bind.">L4_THREAD_CONTROL_MR_IDX_BIND_TASK</a> + 1]  = <a class="code" href="group__l4__fpage__api.html#ga3eaf59757a63812044e2b3a1cdf09d54" title="Create a kernel-object flex page.">l4_obj_fpage</a>(task, 0, L4_FPAGE_RWX).<a class="code" href="unionl4__fpage__t.html#a5db4caad82d0e823da85625f465634e0" title="Raw value.">raw</a>;
<a name="l00719"></a>00719 }
<a name="l00720"></a>00720 
<a name="l00721"></a>00721 L4_INLINE <span class="keywordtype">void</span>
<a name="l00722"></a>00722 l4_thread_control_alien_u(<a class="code" href="group__l4__utcb__api.html#ga89be8a86d11c1d532b636cc2df1330fb" title="Opaque type for the UTCB.">l4_utcb_t</a> *utcb, <span class="keywordtype">int</span> on) <a class="code" href="group__l4sys__defines.html#ga362dfa378e662dd04f710a23fc7ea931" title="Mark a function declaration and definition as never throwing an exception.">L4_NOTHROW</a>
<a name="l00723"></a>00723 {
<a name="l00724"></a>00724   <a class="code" href="structl4__msg__regs__t.html" title="Encapsulation of the message-register block in the UTCB.">l4_msg_regs_t</a> *v = l4_utcb_mr_u(utcb);
<a name="l00725"></a>00725   v-&gt;<a class="code" href="structl4__msg__regs__t.html#ad7d601b3b3808afaefe4c09d42de8b99" title="Message registers.">mr</a>[L4_THREAD_CONTROL_MR_IDX_FLAGS]     |= L4_THREAD_CONTROL_ALIEN;
<a name="l00726"></a>00726   v-&gt;<a class="code" href="structl4__msg__regs__t.html#ad7d601b3b3808afaefe4c09d42de8b99" title="Message registers.">mr</a>[L4_THREAD_CONTROL_MR_IDX_FLAG_VALS] |= on ? <a class="code" href="group__l4__thread__api.html#gga7ac6f1aa334f0638cc45e1c0ae591925a4fc822df7c8c2f0a5937031466919de2" title="Alien state of the thread is set.">L4_THREAD_CONTROL_ALIEN</a> : 0;
<a name="l00727"></a>00727 }
<a name="l00728"></a>00728 
<a name="l00729"></a>00729 L4_INLINE <span class="keywordtype">void</span>
<a name="l00730"></a>00730 l4_thread_control_ux_host_syscall_u(<a class="code" href="group__l4__utcb__api.html#ga89be8a86d11c1d532b636cc2df1330fb" title="Opaque type for the UTCB.">l4_utcb_t</a> *utcb, <span class="keywordtype">int</span> on) <a class="code" href="group__l4sys__defines.html#ga362dfa378e662dd04f710a23fc7ea931" title="Mark a function declaration and definition as never throwing an exception.">L4_NOTHROW</a>
<a name="l00731"></a>00731 {
<a name="l00732"></a>00732   <a class="code" href="structl4__msg__regs__t.html" title="Encapsulation of the message-register block in the UTCB.">l4_msg_regs_t</a> *v = l4_utcb_mr_u(utcb);
<a name="l00733"></a>00733   v-&gt;<a class="code" href="structl4__msg__regs__t.html#ad7d601b3b3808afaefe4c09d42de8b99" title="Message registers.">mr</a>[L4_THREAD_CONTROL_MR_IDX_FLAGS]     |= L4_THREAD_CONTROL_UX_NATIVE;
<a name="l00734"></a>00734   v-&gt;<a class="code" href="structl4__msg__regs__t.html#ad7d601b3b3808afaefe4c09d42de8b99" title="Message registers.">mr</a>[L4_THREAD_CONTROL_MR_IDX_FLAG_VALS] |= on ? <a class="code" href="group__l4__thread__api.html#gga7ac6f1aa334f0638cc45e1c0ae591925a2c57051ba531e46216ae49471f6cb245" title="Fiasco-UX only: pass-through of host system calls is set.">L4_THREAD_CONTROL_UX_NATIVE</a> : 0;
<a name="l00735"></a>00735 }
<a name="l00736"></a>00736 
<a name="l00737"></a>00737 L4_INLINE <a class="code" href="structl4__msgtag__t.html" title="Message tag data structure.">l4_msgtag_t</a>
<a name="l00738"></a>00738 l4_thread_control_commit_u(<a class="code" href="group__l4__cap__api.html#ga1445e923ce73029130d569d6e69a4dd8" title="L4 Capability selector Type.">l4_cap_idx_t</a> thread, <a class="code" href="group__l4__utcb__api.html#ga89be8a86d11c1d532b636cc2df1330fb" title="Opaque type for the UTCB.">l4_utcb_t</a> *utcb) <a class="code" href="group__l4sys__defines.html#ga362dfa378e662dd04f710a23fc7ea931" title="Mark a function declaration and definition as never throwing an exception.">L4_NOTHROW</a>
<a name="l00739"></a>00739 {
<a name="l00740"></a>00740   <span class="keywordtype">int</span> items = 0;
<a name="l00741"></a>00741   <span class="keywordflow">if</span> (l4_utcb_mr_u(utcb)-&gt;mr[<a class="code" href="group__l4__thread__api.html#ggada4810653b18bca5841f3aa8387502a0ae15c7a84fad7b912acfcb81265caa2f7">L4_THREAD_CONTROL_MR_IDX_FLAGS</a>] &amp; <a class="code" href="group__l4__thread__api.html#gga7ac6f1aa334f0638cc45e1c0ae591925a2069ba7ba4f79568dfb9e360600a9789" title="The task to bind the thread to will be given.">L4_THREAD_CONTROL_BIND_TASK</a>)
<a name="l00742"></a>00742     items = 1;
<a name="l00743"></a>00743   <span class="keywordflow">return</span> <a class="code" href="group__l4__ipc__api.html#gad1b4180d489c3fa25386a93cda95d00b" title="Object call (usual invocation).">l4_ipc_call</a>(thread, utcb, <a class="code" href="group__l4__msgtag__api.html#ga80cb4e4d8263e92c14c212d6108bbd19" title="Create a message tag from the specified values.">l4_msgtag</a>(<a class="code" href="group__l4__msgtag__api.html#gga61165805662641702f50e4f524a8df01a924bae5fb10fe4a7ad46e959a7fa87d3" title="Protocol for messages to a thread object.">L4_PROTO_THREAD</a>, 6, items, 0), <a class="code" href="group__l4__timeout__api.html#gaf01c5e1475efc4f33bc7d1985f7320d3" title="never timeout">L4_IPC_NEVER</a>);
<a name="l00744"></a>00744 }
<a name="l00745"></a>00745 
<a name="l00746"></a>00746 
<a name="l00747"></a>00747 L4_INLINE <a class="code" href="structl4__msgtag__t.html" title="Message tag data structure.">l4_msgtag_t</a>
<a name="l00748"></a><a class="code" href="group__l4__thread__api.html#ga5e47131f486f920826b5f72dad82bafe">00748</a> <a class="code" href="group__l4__thread__api.html#ga5e47131f486f920826b5f72dad82bafe" title="Yield current time slice.">l4_thread_yield</a>(<span class="keywordtype">void</span>) <a class="code" href="group__l4sys__defines.html#ga362dfa378e662dd04f710a23fc7ea931" title="Mark a function declaration and definition as never throwing an exception.">L4_NOTHROW</a>
<a name="l00749"></a>00749 {
<a name="l00750"></a>00750   <a class="code" href="group__l4__ipc__api.html#gaf4b11eb35e2af39981228b3ab01f852e" title="Wait for a message from a specific source.">l4_ipc_receive</a>(<a class="code" href="group__l4__cap__api.html#ggafee0421c2fe0e5cfc59f17f16ea10879aff9320ed307e76cebfca6c2871136102" title="Invalid capability selector.">L4_INVALID_CAP</a>, NULL, <a class="code" href="group__l4__timeout__api.html#gac33be3c7adb0515c7085b82d647517a2" title="0 receive and send timeout">L4_IPC_BOTH_TIMEOUT_0</a>);
<a name="l00751"></a>00751   <span class="keywordflow">return</span> <a class="code" href="group__l4__msgtag__api.html#ga80cb4e4d8263e92c14c212d6108bbd19" title="Create a message tag from the specified values.">l4_msgtag</a>(0, 0, 0, 0);
<a name="l00752"></a>00752 }
<a name="l00753"></a>00753 
<a name="l00754"></a>00754 <span class="comment">/* Preliminary, to be changed */</span>
<a name="l00755"></a>00755 L4_INLINE <a class="code" href="structl4__msgtag__t.html" title="Message tag data structure.">l4_msgtag_t</a>
<a name="l00756"></a>00756 l4_thread_switch_u(<a class="code" href="group__l4__cap__api.html#ga1445e923ce73029130d569d6e69a4dd8" title="L4 Capability selector Type.">l4_cap_idx_t</a> to_thread, <a class="code" href="group__l4__utcb__api.html#ga89be8a86d11c1d532b636cc2df1330fb" title="Opaque type for the UTCB.">l4_utcb_t</a> *utcb) <a class="code" href="group__l4sys__defines.html#ga362dfa378e662dd04f710a23fc7ea931" title="Mark a function declaration and definition as never throwing an exception.">L4_NOTHROW</a>
<a name="l00757"></a>00757 {
<a name="l00758"></a>00758   <a class="code" href="structl4__msg__regs__t.html" title="Encapsulation of the message-register block in the UTCB.">l4_msg_regs_t</a> *v = l4_utcb_mr_u(utcb);
<a name="l00759"></a>00759   v-&gt;<a class="code" href="structl4__msg__regs__t.html#ad7d601b3b3808afaefe4c09d42de8b99" title="Message registers.">mr</a>[0] = L4_THREAD_SWITCH_OP;
<a name="l00760"></a>00760   <span class="keywordflow">return</span> <a class="code" href="group__l4__ipc__api.html#gad1b4180d489c3fa25386a93cda95d00b" title="Object call (usual invocation).">l4_ipc_call</a>(to_thread, utcb, <a class="code" href="group__l4__msgtag__api.html#ga80cb4e4d8263e92c14c212d6108bbd19" title="Create a message tag from the specified values.">l4_msgtag</a>(<a class="code" href="group__l4__msgtag__api.html#gga61165805662641702f50e4f524a8df01a924bae5fb10fe4a7ad46e959a7fa87d3" title="Protocol for messages to a thread object.">L4_PROTO_THREAD</a>, 1, 0, 0), <a class="code" href="group__l4__timeout__api.html#gaf01c5e1475efc4f33bc7d1985f7320d3" title="never timeout">L4_IPC_NEVER</a>);
<a name="l00761"></a>00761 }
<a name="l00762"></a>00762 
<a name="l00763"></a>00763 
<a name="l00764"></a>00764 L4_INLINE <a class="code" href="structl4__msgtag__t.html" title="Message tag data structure.">l4_msgtag_t</a>
<a name="l00765"></a>00765 l4_thread_stats_time_u(<a class="code" href="group__l4__cap__api.html#ga1445e923ce73029130d569d6e69a4dd8" title="L4 Capability selector Type.">l4_cap_idx_t</a> thread, <a class="code" href="group__l4__utcb__api.html#ga89be8a86d11c1d532b636cc2df1330fb" title="Opaque type for the UTCB.">l4_utcb_t</a> *utcb) <a class="code" href="group__l4sys__defines.html#ga362dfa378e662dd04f710a23fc7ea931" title="Mark a function declaration and definition as never throwing an exception.">L4_NOTHROW</a>
<a name="l00766"></a>00766 {
<a name="l00767"></a>00767   <a class="code" href="structl4__msg__regs__t.html" title="Encapsulation of the message-register block in the UTCB.">l4_msg_regs_t</a> *v = l4_utcb_mr_u(utcb);
<a name="l00768"></a>00768   v-&gt;<a class="code" href="structl4__msg__regs__t.html#ad7d601b3b3808afaefe4c09d42de8b99" title="Message registers.">mr</a>[0] = L4_THREAD_STATS_OP;
<a name="l00769"></a>00769   <span class="keywordflow">return</span> <a class="code" href="group__l4__ipc__api.html#gad1b4180d489c3fa25386a93cda95d00b" title="Object call (usual invocation).">l4_ipc_call</a>(thread, utcb, <a class="code" href="group__l4__msgtag__api.html#ga80cb4e4d8263e92c14c212d6108bbd19" title="Create a message tag from the specified values.">l4_msgtag</a>(<a class="code" href="group__l4__msgtag__api.html#gga61165805662641702f50e4f524a8df01a924bae5fb10fe4a7ad46e959a7fa87d3" title="Protocol for messages to a thread object.">L4_PROTO_THREAD</a>, 1, 0, 0), <a class="code" href="group__l4__timeout__api.html#gaf01c5e1475efc4f33bc7d1985f7320d3" title="never timeout">L4_IPC_NEVER</a>);
<a name="l00770"></a>00770 }
<a name="l00771"></a>00771 
<a name="l00772"></a>00772 L4_INLINE <a class="code" href="structl4__msgtag__t.html" title="Message tag data structure.">l4_msgtag_t</a>
<a name="l00773"></a>00773 l4_thread_vcpu_resume_start_u(<a class="code" href="group__l4__utcb__api.html#ga89be8a86d11c1d532b636cc2df1330fb" title="Opaque type for the UTCB.">l4_utcb_t</a> *utcb) <a class="code" href="group__l4sys__defines.html#ga362dfa378e662dd04f710a23fc7ea931" title="Mark a function declaration and definition as never throwing an exception.">L4_NOTHROW</a>
<a name="l00774"></a>00774 {
<a name="l00775"></a>00775   <a class="code" href="structl4__msg__regs__t.html" title="Encapsulation of the message-register block in the UTCB.">l4_msg_regs_t</a> *v = l4_utcb_mr_u(utcb);
<a name="l00776"></a>00776   v-&gt;<a class="code" href="structl4__msg__regs__t.html#ad7d601b3b3808afaefe4c09d42de8b99" title="Message registers.">mr</a>[0] = L4_THREAD_VCPU_RESUME_OP;
<a name="l00777"></a>00777   <span class="keywordflow">return</span> <a class="code" href="group__l4__msgtag__api.html#ga80cb4e4d8263e92c14c212d6108bbd19" title="Create a message tag from the specified values.">l4_msgtag</a>(<a class="code" href="group__l4__msgtag__api.html#gga61165805662641702f50e4f524a8df01a924bae5fb10fe4a7ad46e959a7fa87d3" title="Protocol for messages to a thread object.">L4_PROTO_THREAD</a>, 1, 0, 0);
<a name="l00778"></a>00778 }
<a name="l00779"></a>00779 
<a name="l00780"></a>00780 L4_INLINE <a class="code" href="structl4__msgtag__t.html" title="Message tag data structure.">l4_msgtag_t</a>
<a name="l00781"></a>00781 l4_thread_vcpu_resume_commit_u(<a class="code" href="group__l4__cap__api.html#ga1445e923ce73029130d569d6e69a4dd8" title="L4 Capability selector Type.">l4_cap_idx_t</a> thread,
<a name="l00782"></a>00782                                <a class="code" href="structl4__msgtag__t.html" title="Message tag data structure.">l4_msgtag_t</a> tag, <a class="code" href="group__l4__utcb__api.html#ga89be8a86d11c1d532b636cc2df1330fb" title="Opaque type for the UTCB.">l4_utcb_t</a> *utcb) <a class="code" href="group__l4sys__defines.html#ga362dfa378e662dd04f710a23fc7ea931" title="Mark a function declaration and definition as never throwing an exception.">L4_NOTHROW</a>
<a name="l00783"></a>00783 {
<a name="l00784"></a>00784   <span class="keywordflow">return</span> <a class="code" href="group__l4__ipc__api.html#gad1b4180d489c3fa25386a93cda95d00b" title="Object call (usual invocation).">l4_ipc_call</a>(thread, utcb, tag, <a class="code" href="group__l4__timeout__api.html#gaf01c5e1475efc4f33bc7d1985f7320d3" title="never timeout">L4_IPC_NEVER</a>);
<a name="l00785"></a>00785 }
<a name="l00786"></a>00786 
<a name="l00787"></a>00787 L4_INLINE <a class="code" href="structl4__msgtag__t.html" title="Message tag data structure.">l4_msgtag_t</a>
<a name="l00788"></a><a class="code" href="group__l4__thread__api.html#ga1ea29499c679caeae810516d16f4347c">00788</a> <a class="code" href="group__l4__thread__api.html#ga1ea29499c679caeae810516d16f4347c" title="Exchange basic thread registers.">l4_thread_ex_regs</a>(<a class="code" href="group__l4__cap__api.html#ga1445e923ce73029130d569d6e69a4dd8" title="L4 Capability selector Type.">l4_cap_idx_t</a> thread, <a class="code" href="group__l4__basic__types.html#ga4087b991c40c0d2fcde9ca331049a4d4" title="Address type.">l4_addr_t</a> ip, <a class="code" href="group__l4__basic__types.html#ga4087b991c40c0d2fcde9ca331049a4d4" title="Address type.">l4_addr_t</a> sp,
<a name="l00789"></a>00789                     <a class="code" href="group__l4__basic__types.html#ga1c2c4b333f75b1d05b59855910f2b9cb" title="Unsigned machine word.">l4_umword_t</a> flags) <a class="code" href="group__l4sys__defines.html#ga362dfa378e662dd04f710a23fc7ea931" title="Mark a function declaration and definition as never throwing an exception.">L4_NOTHROW</a>
<a name="l00790"></a>00790 {
<a name="l00791"></a>00791   <span class="keywordflow">return</span> l4_thread_ex_regs_u(thread, ip, sp, flags, <a class="code" href="group__l4__utcb__api.html#ga0e524ed43116ca4b9ec5b3c85e48d84f" title="Get the UTCB address.">l4_utcb</a>());
<a name="l00792"></a>00792 }
<a name="l00793"></a>00793 
<a name="l00794"></a>00794 L4_INLINE <a class="code" href="structl4__msgtag__t.html" title="Message tag data structure.">l4_msgtag_t</a>
<a name="l00795"></a><a class="code" href="group__l4__thread__api.html#ga828e4612273914dcae12c442bcdd2ea1">00795</a> <a class="code" href="group__l4__thread__api.html#ga828e4612273914dcae12c442bcdd2ea1" title="Exchange basic thread registers and return previous values.">l4_thread_ex_regs_ret</a>(<a class="code" href="group__l4__cap__api.html#ga1445e923ce73029130d569d6e69a4dd8" title="L4 Capability selector Type.">l4_cap_idx_t</a> thread, <a class="code" href="group__l4__basic__types.html#ga4087b991c40c0d2fcde9ca331049a4d4" title="Address type.">l4_addr_t</a> *ip, <a class="code" href="group__l4__basic__types.html#ga4087b991c40c0d2fcde9ca331049a4d4" title="Address type.">l4_addr_t</a> *sp,
<a name="l00796"></a>00796                       <a class="code" href="group__l4__basic__types.html#ga1c2c4b333f75b1d05b59855910f2b9cb" title="Unsigned machine word.">l4_umword_t</a> *flags) <a class="code" href="group__l4sys__defines.html#ga362dfa378e662dd04f710a23fc7ea931" title="Mark a function declaration and definition as never throwing an exception.">L4_NOTHROW</a>
<a name="l00797"></a>00797 {
<a name="l00798"></a>00798   <span class="keywordflow">return</span> l4_thread_ex_regs_ret_u(thread, ip, sp, flags, <a class="code" href="group__l4__utcb__api.html#ga0e524ed43116ca4b9ec5b3c85e48d84f" title="Get the UTCB address.">l4_utcb</a>());
<a name="l00799"></a>00799 }
<a name="l00800"></a>00800 
<a name="l00801"></a>00801 L4_INLINE <span class="keywordtype">void</span>
<a name="l00802"></a><a class="code" href="group__l4__thread__control__api.html#gae37baad7d9eaae8c2d90be7cfadb4271">00802</a> <a class="code" href="group__l4__thread__control__api.html#gae37baad7d9eaae8c2d90be7cfadb4271" title="Start a thread control API sequence.">l4_thread_control_start</a>(<span class="keywordtype">void</span>) <a class="code" href="group__l4sys__defines.html#ga362dfa378e662dd04f710a23fc7ea931" title="Mark a function declaration and definition as never throwing an exception.">L4_NOTHROW</a>
<a name="l00803"></a>00803 {
<a name="l00804"></a>00804   l4_thread_control_start_u(<a class="code" href="group__l4__utcb__api.html#ga0e524ed43116ca4b9ec5b3c85e48d84f" title="Get the UTCB address.">l4_utcb</a>());
<a name="l00805"></a>00805 }
<a name="l00806"></a>00806 
<a name="l00807"></a>00807 L4_INLINE <span class="keywordtype">void</span>
<a name="l00808"></a><a class="code" href="group__l4__thread__control__api.html#gaf3715cba35638941d7a37fce539028a7">00808</a> <a class="code" href="group__l4__thread__control__api.html#gaf3715cba35638941d7a37fce539028a7" title="Set the pager.">l4_thread_control_pager</a>(<a class="code" href="group__l4__cap__api.html#ga1445e923ce73029130d569d6e69a4dd8" title="L4 Capability selector Type.">l4_cap_idx_t</a> pager) <a class="code" href="group__l4sys__defines.html#ga362dfa378e662dd04f710a23fc7ea931" title="Mark a function declaration and definition as never throwing an exception.">L4_NOTHROW</a>
<a name="l00809"></a>00809 {
<a name="l00810"></a>00810   l4_thread_control_pager_u(pager, <a class="code" href="group__l4__utcb__api.html#ga0e524ed43116ca4b9ec5b3c85e48d84f" title="Get the UTCB address.">l4_utcb</a>());
<a name="l00811"></a>00811 }
<a name="l00812"></a>00812 
<a name="l00813"></a>00813 L4_INLINE <span class="keywordtype">void</span>
<a name="l00814"></a><a class="code" href="group__l4__thread__control__api.html#gae1ac1c36d9172003c5e53936a56f2ec3">00814</a> <a class="code" href="group__l4__thread__control__api.html#gae1ac1c36d9172003c5e53936a56f2ec3" title="Set the exception handler.">l4_thread_control_exc_handler</a>(<a class="code" href="group__l4__cap__api.html#ga1445e923ce73029130d569d6e69a4dd8" title="L4 Capability selector Type.">l4_cap_idx_t</a> exc_handler) <a class="code" href="group__l4sys__defines.html#ga362dfa378e662dd04f710a23fc7ea931" title="Mark a function declaration and definition as never throwing an exception.">L4_NOTHROW</a>
<a name="l00815"></a>00815 {
<a name="l00816"></a>00816   l4_thread_control_exc_handler_u(exc_handler, <a class="code" href="group__l4__utcb__api.html#ga0e524ed43116ca4b9ec5b3c85e48d84f" title="Get the UTCB address.">l4_utcb</a>());
<a name="l00817"></a>00817 }
<a name="l00818"></a>00818 
<a name="l00819"></a>00819 
<a name="l00820"></a>00820 L4_INLINE <span class="keywordtype">void</span>
<a name="l00821"></a><a class="code" href="group__l4__thread__control__api.html#ga370fd9233ecb6be3c0c697e6f66539ab">00821</a> <a class="code" href="group__l4__thread__control__api.html#ga370fd9233ecb6be3c0c697e6f66539ab" title="Bind the thread to a task.">l4_thread_control_bind</a>(<a class="code" href="group__l4__utcb__api.html#ga89be8a86d11c1d532b636cc2df1330fb" title="Opaque type for the UTCB.">l4_utcb_t</a> *thread_utcb, <a class="code" href="group__l4__cap__api.html#ga1445e923ce73029130d569d6e69a4dd8" title="L4 Capability selector Type.">l4_cap_idx_t</a> task) <a class="code" href="group__l4sys__defines.html#ga362dfa378e662dd04f710a23fc7ea931" title="Mark a function declaration and definition as never throwing an exception.">L4_NOTHROW</a>
<a name="l00822"></a>00822 {
<a name="l00823"></a>00823   l4_thread_control_bind_u(thread_utcb, task, <a class="code" href="group__l4__utcb__api.html#ga0e524ed43116ca4b9ec5b3c85e48d84f" title="Get the UTCB address.">l4_utcb</a>());
<a name="l00824"></a>00824 }
<a name="l00825"></a>00825 
<a name="l00826"></a>00826 L4_INLINE <span class="keywordtype">void</span>
<a name="l00827"></a><a class="code" href="group__l4__thread__control__api.html#gae110d7269bc9a396d388abb0195c45d1">00827</a> <a class="code" href="group__l4__thread__control__api.html#gae110d7269bc9a396d388abb0195c45d1" title="Enable alien mode.">l4_thread_control_alien</a>(<span class="keywordtype">int</span> on) <a class="code" href="group__l4sys__defines.html#ga362dfa378e662dd04f710a23fc7ea931" title="Mark a function declaration and definition as never throwing an exception.">L4_NOTHROW</a>
<a name="l00828"></a>00828 {
<a name="l00829"></a>00829   l4_thread_control_alien_u(<a class="code" href="group__l4__utcb__api.html#ga0e524ed43116ca4b9ec5b3c85e48d84f" title="Get the UTCB address.">l4_utcb</a>(), on);
<a name="l00830"></a>00830 }
<a name="l00831"></a>00831 
<a name="l00832"></a>00832 L4_INLINE <span class="keywordtype">void</span>
<a name="l00833"></a><a class="code" href="group__l4__thread__control__api.html#gaeaccb490c1356b3691c650b3371bdb77">00833</a> <a class="code" href="group__l4__thread__control__api.html#gaeaccb490c1356b3691c650b3371bdb77" title="Enable pass through of native host (Linux) system calls.">l4_thread_control_ux_host_syscall</a>(<span class="keywordtype">int</span> on) <a class="code" href="group__l4sys__defines.html#ga362dfa378e662dd04f710a23fc7ea931" title="Mark a function declaration and definition as never throwing an exception.">L4_NOTHROW</a>
<a name="l00834"></a>00834 {
<a name="l00835"></a>00835   l4_thread_control_ux_host_syscall_u(<a class="code" href="group__l4__utcb__api.html#ga0e524ed43116ca4b9ec5b3c85e48d84f" title="Get the UTCB address.">l4_utcb</a>(), on);
<a name="l00836"></a>00836 }
<a name="l00837"></a>00837 
<a name="l00838"></a>00838 L4_INLINE <a class="code" href="structl4__msgtag__t.html" title="Message tag data structure.">l4_msgtag_t</a>
<a name="l00839"></a><a class="code" href="group__l4__thread__control__api.html#ga7d07c9032fdd3dd59bcad35ca51176e8">00839</a> <a class="code" href="group__l4__thread__control__api.html#ga7d07c9032fdd3dd59bcad35ca51176e8" title="Commit the thread control parameters.">l4_thread_control_commit</a>(<a class="code" href="group__l4__cap__api.html#ga1445e923ce73029130d569d6e69a4dd8" title="L4 Capability selector Type.">l4_cap_idx_t</a> thread) <a class="code" href="group__l4sys__defines.html#ga362dfa378e662dd04f710a23fc7ea931" title="Mark a function declaration and definition as never throwing an exception.">L4_NOTHROW</a>
<a name="l00840"></a>00840 {
<a name="l00841"></a>00841   <span class="keywordflow">return</span> l4_thread_control_commit_u(thread, <a class="code" href="group__l4__utcb__api.html#ga0e524ed43116ca4b9ec5b3c85e48d84f" title="Get the UTCB address.">l4_utcb</a>());
<a name="l00842"></a>00842 }
<a name="l00843"></a>00843 
<a name="l00844"></a>00844 
<a name="l00845"></a>00845 
<a name="l00846"></a>00846 
<a name="l00847"></a>00847 L4_INLINE <a class="code" href="structl4__msgtag__t.html" title="Message tag data structure.">l4_msgtag_t</a>
<a name="l00848"></a><a class="code" href="group__l4__thread__api.html#gabc6b8e906087c1fc7b9bb691c47adcbd">00848</a> <a class="code" href="group__l4__thread__api.html#gabc6b8e906087c1fc7b9bb691c47adcbd" title="Switch to another thread (and donate the remaining time slice).">l4_thread_switch</a>(<a class="code" href="group__l4__cap__api.html#ga1445e923ce73029130d569d6e69a4dd8" title="L4 Capability selector Type.">l4_cap_idx_t</a> to_thread) <a class="code" href="group__l4sys__defines.html#ga362dfa378e662dd04f710a23fc7ea931" title="Mark a function declaration and definition as never throwing an exception.">L4_NOTHROW</a>
<a name="l00849"></a>00849 {
<a name="l00850"></a>00850   <span class="keywordflow">return</span> l4_thread_switch_u(to_thread, <a class="code" href="group__l4__utcb__api.html#ga0e524ed43116ca4b9ec5b3c85e48d84f" title="Get the UTCB address.">l4_utcb</a>());
<a name="l00851"></a>00851 }
<a name="l00852"></a>00852 
<a name="l00853"></a>00853 
<a name="l00854"></a>00854 
<a name="l00855"></a>00855 
<a name="l00856"></a>00856 L4_INLINE <a class="code" href="structl4__msgtag__t.html" title="Message tag data structure.">l4_msgtag_t</a>
<a name="l00857"></a><a class="code" href="group__l4__thread__api.html#gad94e1ad323ab7f3f3f94f0523d1018a4">00857</a> <a class="code" href="group__l4__thread__api.html#gad94e1ad323ab7f3f3f94f0523d1018a4" title="Get consumed timed of thread in µs.">l4_thread_stats_time</a>(<a class="code" href="group__l4__cap__api.html#ga1445e923ce73029130d569d6e69a4dd8" title="L4 Capability selector Type.">l4_cap_idx_t</a> thread) <a class="code" href="group__l4sys__defines.html#ga362dfa378e662dd04f710a23fc7ea931" title="Mark a function declaration and definition as never throwing an exception.">L4_NOTHROW</a>
<a name="l00858"></a>00858 {
<a name="l00859"></a>00859   <span class="keywordflow">return</span> l4_thread_stats_time_u(thread, <a class="code" href="group__l4__utcb__api.html#ga0e524ed43116ca4b9ec5b3c85e48d84f" title="Get the UTCB address.">l4_utcb</a>());
<a name="l00860"></a>00860 }
<a name="l00861"></a>00861 
<a name="l00862"></a>00862 L4_INLINE <a class="code" href="structl4__msgtag__t.html" title="Message tag data structure.">l4_msgtag_t</a>
<a name="l00863"></a><a class="code" href="group__l4__thread__api.html#ga6e0620f6b1119d84eac90adad52eabf8">00863</a> <a class="code" href="group__l4__thread__api.html#ga6e0620f6b1119d84eac90adad52eabf8" title="vCPU return from event handler.">l4_thread_vcpu_resume_start</a>(<span class="keywordtype">void</span>) <a class="code" href="group__l4sys__defines.html#ga362dfa378e662dd04f710a23fc7ea931" title="Mark a function declaration and definition as never throwing an exception.">L4_NOTHROW</a>
<a name="l00864"></a>00864 {
<a name="l00865"></a>00865   <span class="keywordflow">return</span> l4_thread_vcpu_resume_start_u(<a class="code" href="group__l4__utcb__api.html#ga0e524ed43116ca4b9ec5b3c85e48d84f" title="Get the UTCB address.">l4_utcb</a>());
<a name="l00866"></a>00866 }
<a name="l00867"></a>00867 
<a name="l00868"></a>00868 L4_INLINE <a class="code" href="structl4__msgtag__t.html" title="Message tag data structure.">l4_msgtag_t</a>
<a name="l00869"></a><a class="code" href="group__l4__thread__api.html#gaaf8bb1c28a014326dd381bc2d3478da8">00869</a> <a class="code" href="group__l4__thread__api.html#gaaf8bb1c28a014326dd381bc2d3478da8" title="Commit vCPU resume.">l4_thread_vcpu_resume_commit</a>(<a class="code" href="group__l4__cap__api.html#ga1445e923ce73029130d569d6e69a4dd8" title="L4 Capability selector Type.">l4_cap_idx_t</a> thread,
<a name="l00870"></a>00870                              <a class="code" href="structl4__msgtag__t.html" title="Message tag data structure.">l4_msgtag_t</a> tag) <a class="code" href="group__l4sys__defines.html#ga362dfa378e662dd04f710a23fc7ea931" title="Mark a function declaration and definition as never throwing an exception.">L4_NOTHROW</a>
<a name="l00871"></a>00871 {
<a name="l00872"></a>00872   <span class="keywordflow">return</span> l4_thread_vcpu_resume_commit_u(thread, tag, <a class="code" href="group__l4__utcb__api.html#ga0e524ed43116ca4b9ec5b3c85e48d84f" title="Get the UTCB address.">l4_utcb</a>());
<a name="l00873"></a>00873 }
<a name="l00874"></a>00874 
<a name="l00875"></a>00875 
<a name="l00876"></a>00876 L4_INLINE <a class="code" href="structl4__msgtag__t.html" title="Message tag data structure.">l4_msgtag_t</a>
<a name="l00877"></a>00877 l4_thread_register_del_irq_u(<a class="code" href="group__l4__cap__api.html#ga1445e923ce73029130d569d6e69a4dd8" title="L4 Capability selector Type.">l4_cap_idx_t</a> thread, <a class="code" href="group__l4__cap__api.html#ga1445e923ce73029130d569d6e69a4dd8" title="L4 Capability selector Type.">l4_cap_idx_t</a> irq,
<a name="l00878"></a>00878                              <a class="code" href="group__l4__utcb__api.html#ga89be8a86d11c1d532b636cc2df1330fb" title="Opaque type for the UTCB.">l4_utcb_t</a> *u) <a class="code" href="group__l4sys__defines.html#ga362dfa378e662dd04f710a23fc7ea931" title="Mark a function declaration and definition as never throwing an exception.">L4_NOTHROW</a>
<a name="l00879"></a>00879 {
<a name="l00880"></a>00880   <a class="code" href="structl4__msg__regs__t.html" title="Encapsulation of the message-register block in the UTCB.">l4_msg_regs_t</a> *m = l4_utcb_mr_u(u);
<a name="l00881"></a>00881   m-&gt;<a class="code" href="structl4__msg__regs__t.html#ad7d601b3b3808afaefe4c09d42de8b99" title="Message registers.">mr</a>[0] = L4_THREAD_REGISTER_DELETE_IRQ;
<a name="l00882"></a>00882   m-&gt;<a class="code" href="structl4__msg__regs__t.html#ad7d601b3b3808afaefe4c09d42de8b99" title="Message registers.">mr</a>[1] = <a class="code" href="group__l4__msgitem__api.html#ga6c9056957ac92e458eaabcbf3223ce6f" title="Create the first word for a map item for the object space.">l4_map_obj_control</a>(0,0);
<a name="l00883"></a>00883   m-&gt;<a class="code" href="structl4__msg__regs__t.html#ad7d601b3b3808afaefe4c09d42de8b99" title="Message registers.">mr</a>[2] = <a class="code" href="group__l4__fpage__api.html#ga3eaf59757a63812044e2b3a1cdf09d54" title="Create a kernel-object flex page.">l4_obj_fpage</a>(irq, 0, L4_CAP_FPAGE_RWS).<a class="code" href="unionl4__fpage__t.html#a5db4caad82d0e823da85625f465634e0" title="Raw value.">raw</a>;
<a name="l00884"></a>00884   <span class="keywordflow">return</span> <a class="code" href="group__l4__ipc__api.html#gad1b4180d489c3fa25386a93cda95d00b" title="Object call (usual invocation).">l4_ipc_call</a>(thread, u, <a class="code" href="group__l4__msgtag__api.html#ga80cb4e4d8263e92c14c212d6108bbd19" title="Create a message tag from the specified values.">l4_msgtag</a>(<a class="code" href="group__l4__msgtag__api.html#gga61165805662641702f50e4f524a8df01a924bae5fb10fe4a7ad46e959a7fa87d3" title="Protocol for messages to a thread object.">L4_PROTO_THREAD</a>, 1, 1, 0), <a class="code" href="group__l4__timeout__api.html#gaf01c5e1475efc4f33bc7d1985f7320d3" title="never timeout">L4_IPC_NEVER</a>);
<a name="l00885"></a>00885 
<a name="l00886"></a>00886 }
<a name="l00887"></a>00887 
<a name="l00888"></a>00888 L4_INLINE <a class="code" href="structl4__msgtag__t.html" title="Message tag data structure.">l4_msgtag_t</a>
<a name="l00889"></a><a class="code" href="group__l4__thread__api.html#ga9dded96485c96c7a3389ea00f5a305d1">00889</a> <a class="code" href="group__l4__thread__api.html#ga9dded96485c96c7a3389ea00f5a305d1" title="Register an IRQ that will trigger upon deletion events.">l4_thread_register_del_irq</a>(<a class="code" href="group__l4__cap__api.html#ga1445e923ce73029130d569d6e69a4dd8" title="L4 Capability selector Type.">l4_cap_idx_t</a> thread, <a class="code" href="group__l4__cap__api.html#ga1445e923ce73029130d569d6e69a4dd8" title="L4 Capability selector Type.">l4_cap_idx_t</a> irq) <a class="code" href="group__l4sys__defines.html#ga362dfa378e662dd04f710a23fc7ea931" title="Mark a function declaration and definition as never throwing an exception.">L4_NOTHROW</a>
<a name="l00890"></a>00890 {
<a name="l00891"></a>00891   <span class="keywordflow">return</span> l4_thread_register_del_irq_u(thread, irq, <a class="code" href="group__l4__utcb__api.html#ga0e524ed43116ca4b9ec5b3c85e48d84f" title="Get the UTCB address.">l4_utcb</a>());
<a name="l00892"></a>00892 }
<a name="l00893"></a>00893 
<a name="l00894"></a>00894 
<a name="l00895"></a>00895 L4_INLINE <a class="code" href="structl4__msgtag__t.html" title="Message tag data structure.">l4_msgtag_t</a>
<a name="l00896"></a>00896 l4_thread_vcpu_control_u(<a class="code" href="group__l4__cap__api.html#ga1445e923ce73029130d569d6e69a4dd8" title="L4 Capability selector Type.">l4_cap_idx_t</a> thread, <a class="code" href="group__l4__basic__types.html#ga4087b991c40c0d2fcde9ca331049a4d4" title="Address type.">l4_addr_t</a> vcpu_state,
<a name="l00897"></a>00897                          <a class="code" href="group__l4__utcb__api.html#ga89be8a86d11c1d532b636cc2df1330fb" title="Opaque type for the UTCB.">l4_utcb_t</a> *utcb) <a class="code" href="group__l4sys__defines.html#ga362dfa378e662dd04f710a23fc7ea931" title="Mark a function declaration and definition as never throwing an exception.">L4_NOTHROW</a>
<a name="l00898"></a>00898 {
<a name="l00899"></a>00899   <a class="code" href="structl4__msg__regs__t.html" title="Encapsulation of the message-register block in the UTCB.">l4_msg_regs_t</a> *v = l4_utcb_mr_u(utcb);
<a name="l00900"></a>00900   v-&gt;<a class="code" href="structl4__msg__regs__t.html#ad7d601b3b3808afaefe4c09d42de8b99" title="Message registers.">mr</a>[0] = L4_THREAD_VCPU_CONTROL;
<a name="l00901"></a>00901   v-&gt;<a class="code" href="structl4__msg__regs__t.html#ad7d601b3b3808afaefe4c09d42de8b99" title="Message registers.">mr</a>[1] = vcpu_state;
<a name="l00902"></a>00902   <span class="keywordflow">return</span> <a class="code" href="group__l4__ipc__api.html#gad1b4180d489c3fa25386a93cda95d00b" title="Object call (usual invocation).">l4_ipc_call</a>(thread, utcb, <a class="code" href="group__l4__msgtag__api.html#ga80cb4e4d8263e92c14c212d6108bbd19" title="Create a message tag from the specified values.">l4_msgtag</a>(<a class="code" href="group__l4__msgtag__api.html#gga61165805662641702f50e4f524a8df01a924bae5fb10fe4a7ad46e959a7fa87d3" title="Protocol for messages to a thread object.">L4_PROTO_THREAD</a>, 2, 0, 0), <a class="code" href="group__l4__timeout__api.html#gaf01c5e1475efc4f33bc7d1985f7320d3" title="never timeout">L4_IPC_NEVER</a>);
<a name="l00903"></a>00903 }
<a name="l00904"></a>00904 
<a name="l00905"></a>00905 L4_INLINE <a class="code" href="structl4__msgtag__t.html" title="Message tag data structure.">l4_msgtag_t</a>
<a name="l00906"></a><a class="code" href="group__l4__thread__api.html#gac3263f4949c90adda83dba763b195988">00906</a> <a class="code" href="group__l4__thread__api.html#gac3263f4949c90adda83dba763b195988" title="Enable or disable the vCPU feature for the thread.">l4_thread_vcpu_control</a>(<a class="code" href="group__l4__cap__api.html#ga1445e923ce73029130d569d6e69a4dd8" title="L4 Capability selector Type.">l4_cap_idx_t</a> thread, <a class="code" href="group__l4__basic__types.html#ga4087b991c40c0d2fcde9ca331049a4d4" title="Address type.">l4_addr_t</a> vcpu_state) <a class="code" href="group__l4sys__defines.html#ga362dfa378e662dd04f710a23fc7ea931" title="Mark a function declaration and definition as never throwing an exception.">L4_NOTHROW</a>
<a name="l00907"></a>00907 { <span class="keywordflow">return</span> l4_thread_vcpu_control_u(thread, vcpu_state, <a class="code" href="group__l4__utcb__api.html#ga0e524ed43116ca4b9ec5b3c85e48d84f" title="Get the UTCB address.">l4_utcb</a>()); }
<a name="l00908"></a>00908 
<a name="l00909"></a>00909 
<a name="l00910"></a>00910 L4_INLINE <a class="code" href="structl4__msgtag__t.html" title="Message tag data structure.">l4_msgtag_t</a>
<a name="l00911"></a>00911 l4_thread_vcpu_control_ext_u(<a class="code" href="group__l4__cap__api.html#ga1445e923ce73029130d569d6e69a4dd8" title="L4 Capability selector Type.">l4_cap_idx_t</a> thread, <a class="code" href="group__l4__basic__types.html#ga4087b991c40c0d2fcde9ca331049a4d4" title="Address type.">l4_addr_t</a> ext_vcpu_state,
<a name="l00912"></a>00912                              <a class="code" href="group__l4__utcb__api.html#ga89be8a86d11c1d532b636cc2df1330fb" title="Opaque type for the UTCB.">l4_utcb_t</a> *utcb) <a class="code" href="group__l4sys__defines.html#ga362dfa378e662dd04f710a23fc7ea931" title="Mark a function declaration and definition as never throwing an exception.">L4_NOTHROW</a>
<a name="l00913"></a>00913 {
<a name="l00914"></a>00914   <a class="code" href="structl4__msg__regs__t.html" title="Encapsulation of the message-register block in the UTCB.">l4_msg_regs_t</a> *v = l4_utcb_mr_u(utcb);
<a name="l00915"></a>00915   v-&gt;<a class="code" href="structl4__msg__regs__t.html#ad7d601b3b3808afaefe4c09d42de8b99" title="Message registers.">mr</a>[0] = L4_THREAD_VCPU_CONTROL_EXT;
<a name="l00916"></a>00916   v-&gt;<a class="code" href="structl4__msg__regs__t.html#ad7d601b3b3808afaefe4c09d42de8b99" title="Message registers.">mr</a>[1] = ext_vcpu_state;
<a name="l00917"></a>00917   <span class="keywordflow">return</span> <a class="code" href="group__l4__ipc__api.html#gad1b4180d489c3fa25386a93cda95d00b" title="Object call (usual invocation).">l4_ipc_call</a>(thread, utcb, <a class="code" href="group__l4__msgtag__api.html#ga80cb4e4d8263e92c14c212d6108bbd19" title="Create a message tag from the specified values.">l4_msgtag</a>(<a class="code" href="group__l4__msgtag__api.html#gga61165805662641702f50e4f524a8df01a924bae5fb10fe4a7ad46e959a7fa87d3" title="Protocol for messages to a thread object.">L4_PROTO_THREAD</a>, 2, 0, 0), <a class="code" href="group__l4__timeout__api.html#gaf01c5e1475efc4f33bc7d1985f7320d3" title="never timeout">L4_IPC_NEVER</a>);
<a name="l00918"></a>00918 }
<a name="l00919"></a>00919 
<a name="l00920"></a>00920 L4_INLINE <a class="code" href="structl4__msgtag__t.html" title="Message tag data structure.">l4_msgtag_t</a>
<a name="l00921"></a><a class="code" href="group__l4__thread__api.html#ga592d99fe80a0091a837f6001d0d5c25b">00921</a> <a class="code" href="group__l4__thread__api.html#ga592d99fe80a0091a837f6001d0d5c25b" title="Enable or disable the extended vCPU feature for the thread.">l4_thread_vcpu_control_ext</a>(<a class="code" href="group__l4__cap__api.html#ga1445e923ce73029130d569d6e69a4dd8" title="L4 Capability selector Type.">l4_cap_idx_t</a> thread, <a class="code" href="group__l4__basic__types.html#ga4087b991c40c0d2fcde9ca331049a4d4" title="Address type.">l4_addr_t</a> ext_vcpu_state) <a class="code" href="group__l4sys__defines.html#ga362dfa378e662dd04f710a23fc7ea931" title="Mark a function declaration and definition as never throwing an exception.">L4_NOTHROW</a>
<a name="l00922"></a>00922 { <span class="keywordflow">return</span> l4_thread_vcpu_control_ext_u(thread, ext_vcpu_state, <a class="code" href="group__l4__utcb__api.html#ga0e524ed43116ca4b9ec5b3c85e48d84f" title="Get the UTCB address.">l4_utcb</a>()); }
<a name="l00923"></a>00923 
<a name="l00924"></a>00924 L4_INLINE <a class="code" href="structl4__msgtag__t.html" title="Message tag data structure.">l4_msgtag_t</a>
<a name="l00925"></a>00925 l4_thread_modify_sender_start_u(<a class="code" href="group__l4__utcb__api.html#ga89be8a86d11c1d532b636cc2df1330fb" title="Opaque type for the UTCB.">l4_utcb_t</a> *u) <a class="code" href="group__l4sys__defines.html#ga362dfa378e662dd04f710a23fc7ea931" title="Mark a function declaration and definition as never throwing an exception.">L4_NOTHROW</a>
<a name="l00926"></a>00926 {
<a name="l00927"></a>00927   <a class="code" href="structl4__msg__regs__t.html" title="Encapsulation of the message-register block in the UTCB.">l4_msg_regs_t</a> *m = l4_utcb_mr_u(u);
<a name="l00928"></a>00928   m-&gt;<a class="code" href="structl4__msg__regs__t.html#ad7d601b3b3808afaefe4c09d42de8b99" title="Message registers.">mr</a>[0] = L4_THREAD_MODIFY_SENDER;
<a name="l00929"></a>00929   <span class="keywordflow">return</span> <a class="code" href="group__l4__msgtag__api.html#ga80cb4e4d8263e92c14c212d6108bbd19" title="Create a message tag from the specified values.">l4_msgtag</a>(<a class="code" href="group__l4__msgtag__api.html#gga61165805662641702f50e4f524a8df01a924bae5fb10fe4a7ad46e959a7fa87d3" title="Protocol for messages to a thread object.">L4_PROTO_THREAD</a>, 1, 0, 0);
<a name="l00930"></a>00930 }
<a name="l00931"></a>00931 
<a name="l00932"></a>00932 L4_INLINE <span class="keywordtype">int</span>
<a name="l00933"></a>00933 l4_thread_modify_sender_add_u(<a class="code" href="group__l4__basic__types.html#ga1c2c4b333f75b1d05b59855910f2b9cb" title="Unsigned machine word.">l4_umword_t</a> match_mask,
<a name="l00934"></a>00934                               <a class="code" href="group__l4__basic__types.html#ga1c2c4b333f75b1d05b59855910f2b9cb" title="Unsigned machine word.">l4_umword_t</a> match,
<a name="l00935"></a>00935                               <a class="code" href="group__l4__basic__types.html#ga1c2c4b333f75b1d05b59855910f2b9cb" title="Unsigned machine word.">l4_umword_t</a> del_bits,
<a name="l00936"></a>00936                               <a class="code" href="group__l4__basic__types.html#ga1c2c4b333f75b1d05b59855910f2b9cb" title="Unsigned machine word.">l4_umword_t</a> add_bits,
<a name="l00937"></a>00937                               <a class="code" href="structl4__msgtag__t.html" title="Message tag data structure.">l4_msgtag_t</a> *tag, <a class="code" href="group__l4__utcb__api.html#ga89be8a86d11c1d532b636cc2df1330fb" title="Opaque type for the UTCB.">l4_utcb_t</a> *u) <a class="code" href="group__l4sys__defines.html#ga362dfa378e662dd04f710a23fc7ea931" title="Mark a function declaration and definition as never throwing an exception.">L4_NOTHROW</a>
<a name="l00938"></a>00938 {
<a name="l00939"></a>00939   <a class="code" href="structl4__msg__regs__t.html" title="Encapsulation of the message-register block in the UTCB.">l4_msg_regs_t</a> *m = l4_utcb_mr_u(u);
<a name="l00940"></a>00940   <span class="keywordtype">unsigned</span> w = <a class="code" href="group__l4__msgtag__api.html#ga4cd53ad6c88c20eba96acab6b3d8e08c" title="Get the number of untyped words.">l4_msgtag_words</a>(*tag);
<a name="l00941"></a>00941   <span class="keywordflow">if</span> (w &gt;= <a class="code" href="group__l4__utcb__api__x86.html#ggac03d87ea12ff53e0a7037eb3f9408af8abc15992493ad991b1854c23002fbbe16" title="Total number of message register (MRs) available.">L4_UTCB_GENERIC_DATA_SIZE</a> - 4)
<a name="l00942"></a>00942     <span class="keywordflow">return</span> -L4_ENOMEM;
<a name="l00943"></a>00943 
<a name="l00944"></a>00944   m-&gt;<a class="code" href="structl4__msg__regs__t.html#ad7d601b3b3808afaefe4c09d42de8b99" title="Message registers.">mr</a>[w]   = match_mask;
<a name="l00945"></a>00945   m-&gt;<a class="code" href="structl4__msg__regs__t.html#ad7d601b3b3808afaefe4c09d42de8b99" title="Message registers.">mr</a>[w+1] = match;
<a name="l00946"></a>00946   m-&gt;<a class="code" href="structl4__msg__regs__t.html#ad7d601b3b3808afaefe4c09d42de8b99" title="Message registers.">mr</a>[w+2] = del_bits;
<a name="l00947"></a>00947   m-&gt;<a class="code" href="structl4__msg__regs__t.html#ad7d601b3b3808afaefe4c09d42de8b99" title="Message registers.">mr</a>[w+3] = add_bits;
<a name="l00948"></a>00948 
<a name="l00949"></a>00949   *tag = <a class="code" href="group__l4__msgtag__api.html#ga80cb4e4d8263e92c14c212d6108bbd19" title="Create a message tag from the specified values.">l4_msgtag</a>(<a class="code" href="group__l4__msgtag__api.html#ga66709aa1bc5b868f315052e02c8cb979" title="Get the protocol of tag.">l4_msgtag_label</a>(*tag), w + 4, 0, 0);
<a name="l00950"></a>00950 
<a name="l00951"></a>00951   <span class="keywordflow">return</span> 0;
<a name="l00952"></a>00952 }
<a name="l00953"></a>00953 
<a name="l00954"></a>00954 L4_INLINE <a class="code" href="structl4__msgtag__t.html" title="Message tag data structure.">l4_msgtag_t</a>
<a name="l00955"></a>00955 l4_thread_modify_sender_commit_u(<a class="code" href="group__l4__cap__api.html#ga1445e923ce73029130d569d6e69a4dd8" title="L4 Capability selector Type.">l4_cap_idx_t</a> thread, <a class="code" href="structl4__msgtag__t.html" title="Message tag data structure.">l4_msgtag_t</a> tag,
<a name="l00956"></a>00956                                  <a class="code" href="group__l4__utcb__api.html#ga89be8a86d11c1d532b636cc2df1330fb" title="Opaque type for the UTCB.">l4_utcb_t</a> *u) <a class="code" href="group__l4sys__defines.html#ga362dfa378e662dd04f710a23fc7ea931" title="Mark a function declaration and definition as never throwing an exception.">L4_NOTHROW</a>
<a name="l00957"></a>00957 {
<a name="l00958"></a>00958   <span class="keywordflow">return</span> <a class="code" href="group__l4__ipc__api.html#gad1b4180d489c3fa25386a93cda95d00b" title="Object call (usual invocation).">l4_ipc_call</a>(thread, u, tag, <a class="code" href="group__l4__timeout__api.html#gaf01c5e1475efc4f33bc7d1985f7320d3" title="never timeout">L4_IPC_NEVER</a>);
<a name="l00959"></a>00959 }
<a name="l00960"></a>00960 
<a name="l00961"></a>00961 L4_INLINE <a class="code" href="structl4__msgtag__t.html" title="Message tag data structure.">l4_msgtag_t</a>
<a name="l00962"></a><a class="code" href="group__l4__thread__api.html#ga06ff88cfe27ad4f6c67fa0dc36e6c261">00962</a> <a class="code" href="group__l4__thread__api.html#ga06ff88cfe27ad4f6c67fa0dc36e6c261" title="Start a thread sender modifiction sequence.">l4_thread_modify_sender_start</a>(<span class="keywordtype">void</span>) <a class="code" href="group__l4sys__defines.html#ga362dfa378e662dd04f710a23fc7ea931" title="Mark a function declaration and definition as never throwing an exception.">L4_NOTHROW</a>
<a name="l00963"></a>00963 {
<a name="l00964"></a>00964   <span class="keywordflow">return</span> l4_thread_modify_sender_start_u(<a class="code" href="group__l4__utcb__api.html#ga0e524ed43116ca4b9ec5b3c85e48d84f" title="Get the UTCB address.">l4_utcb</a>());
<a name="l00965"></a>00965 }
<a name="l00966"></a>00966 
<a name="l00967"></a>00967 L4_INLINE <span class="keywordtype">int</span>
<a name="l00968"></a><a class="code" href="group__l4__thread__api.html#ga424473745319d388b8c1378699cec20d">00968</a> <a class="code" href="group__l4__thread__api.html#ga424473745319d388b8c1378699cec20d" title="Add a modification pattern to a sender modification sequence.">l4_thread_modify_sender_add</a>(<a class="code" href="group__l4__basic__types.html#ga1c2c4b333f75b1d05b59855910f2b9cb" title="Unsigned machine word.">l4_umword_t</a> match_mask,
<a name="l00969"></a>00969                             <a class="code" href="group__l4__basic__types.html#ga1c2c4b333f75b1d05b59855910f2b9cb" title="Unsigned machine word.">l4_umword_t</a> match,
<a name="l00970"></a>00970                             <a class="code" href="group__l4__basic__types.html#ga1c2c4b333f75b1d05b59855910f2b9cb" title="Unsigned machine word.">l4_umword_t</a> del_bits,
<a name="l00971"></a>00971                             <a class="code" href="group__l4__basic__types.html#ga1c2c4b333f75b1d05b59855910f2b9cb" title="Unsigned machine word.">l4_umword_t</a> add_bits,
<a name="l00972"></a>00972                             <a class="code" href="structl4__msgtag__t.html" title="Message tag data structure.">l4_msgtag_t</a> *tag) <a class="code" href="group__l4sys__defines.html#ga362dfa378e662dd04f710a23fc7ea931" title="Mark a function declaration and definition as never throwing an exception.">L4_NOTHROW</a>
<a name="l00973"></a>00973 {
<a name="l00974"></a>00974   <span class="keywordflow">return</span> l4_thread_modify_sender_add_u(match_mask, match,
<a name="l00975"></a>00975                                        del_bits, add_bits, tag, <a class="code" href="group__l4__utcb__api.html#ga0e524ed43116ca4b9ec5b3c85e48d84f" title="Get the UTCB address.">l4_utcb</a>());
<a name="l00976"></a>00976 }
<a name="l00977"></a>00977 
<a name="l00978"></a>00978 L4_INLINE <a class="code" href="structl4__msgtag__t.html" title="Message tag data structure.">l4_msgtag_t</a>
<a name="l00979"></a><a class="code" href="group__l4__thread__api.html#gab4f2106933cf35dc0d4fb2e97e093aef">00979</a> <a class="code" href="group__l4__thread__api.html#gab4f2106933cf35dc0d4fb2e97e093aef" title="Apply (commit) a sender modification sequence.">l4_thread_modify_sender_commit</a>(<a class="code" href="group__l4__cap__api.html#ga1445e923ce73029130d569d6e69a4dd8" title="L4 Capability selector Type.">l4_cap_idx_t</a> thread, <a class="code" href="structl4__msgtag__t.html" title="Message tag data structure.">l4_msgtag_t</a> tag) <a class="code" href="group__l4sys__defines.html#ga362dfa378e662dd04f710a23fc7ea931" title="Mark a function declaration and definition as never throwing an exception.">L4_NOTHROW</a>
<a name="l00980"></a>00980 {
<a name="l00981"></a>00981   <span class="keywordflow">return</span> l4_thread_modify_sender_commit_u(thread, tag, <a class="code" href="group__l4__utcb__api.html#ga0e524ed43116ca4b9ec5b3c85e48d84f" title="Get the UTCB address.">l4_utcb</a>());
<a name="l00982"></a>00982 }
</pre></div></div>
</div>
    <div style="background-color: #fff; border-width: 1px 0 0 0; border-color: #000; border-style: solid; text-align: center; margin-top: 10px">
    L4Re - L4 Runtime Environment
    </div>
   </div>
  </body>
</html>
