<html>
  <head>
    <title>L4Re Reference Manual</title>      
    <link href="doxygen.css" rel="stylesheet" type="text/css">
    <link href="tabs.css" rel="stylesheet" type="text/css">
  </HEAD>

  <body style="background: #fff url(header-bg.png) repeat-x scroll 0 0">
   <div>
    <div style="text-align: center; margin-bottom: 10px; border-width: 0 0 1px 0; border-color: #000; border-style: solid">
    L4Re - L4 Runtime Environment
    </div>
<!-- Generated by Doxygen 1.7.1 -->
<script type="text/javascript">
function hasClass(ele,cls) {
  return ele.className.match(new RegExp('(\\s|^)'+cls+'(\\s|$)'));
}

function addClass(ele,cls) {
  if (!this.hasClass(ele,cls)) ele.className += " "+cls;
}

function removeClass(ele,cls) {
  if (hasClass(ele,cls)) {
    var reg = new RegExp('(\\s|^)'+cls+'(\\s|$)');
    ele.className=ele.className.replace(reg,' ');
  }
}

function toggleVisibility(linkObj) {
 var base = linkObj.getAttribute('id');
 var summary = document.getElementById(base + '-summary');
 var content = document.getElementById(base + '-content');
 var trigger = document.getElementById(base + '-trigger');
 if ( hasClass(linkObj,'closed') ) {
   summary.style.display = 'none';
   content.style.display = 'block';
   trigger.src = 'open.png';
   removeClass(linkObj,'closed');
   addClass(linkObj,'opened');
 } else if ( hasClass(linkObj,'opened') ) {
   summary.style.display = 'block';
   content.style.display = 'none';
   trigger.src = 'closed.png';
   removeClass(linkObj,'opened');
   addClass(linkObj,'closed');
 }
 return false;
}
</script>
<div class="navigation" id="top">
  <div class="tabs">
    <ul class="tablist">
      <li><a href="main.html"><span>Main&nbsp;Page</span></a></li>
      <li><a href="pages.html"><span>Related&nbsp;Pages</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li><a href="annotated.html"><span>Data&nbsp;Structures</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
      <li><a href="examples.html"><span>Examples</span></a></li>
    </ul>
  </div>
  <div class="tabs2">
    <ul class="tablist">
      <li><a href="files.html"><span>File&nbsp;List</span></a></li>
    </ul>
  </div>
<div class="header">
  <div class="headertitle">
<h1>l4/sys/__l4_fpage.h</h1>  </div>
</div>
<div class="contents">
<div class="fragment"><pre class="fragment"><a name="l00001"></a>00001 
<a name="l00006"></a>00006 <span class="comment">/*</span>
<a name="l00007"></a>00007 <span class="comment"> * (c) 2008-2009 Adam Lackorzynski &lt;adam@os.inf.tu-dresden.de&gt;,</span>
<a name="l00008"></a>00008 <span class="comment"> *               Alexander Warg &lt;warg@os.inf.tu-dresden.de&gt;,</span>
<a name="l00009"></a>00009 <span class="comment"> *               Björn Döbel &lt;doebel@os.inf.tu-dresden.de&gt;,</span>
<a name="l00010"></a>00010 <span class="comment"> *               Torsten Frenzel &lt;frenzel@os.inf.tu-dresden.de&gt;</span>
<a name="l00011"></a>00011 <span class="comment"> *     economic rights: Technische Universität Dresden (Germany)</span>
<a name="l00012"></a>00012 <span class="comment"> *</span>
<a name="l00013"></a>00013 <span class="comment"> * This file is part of TUD:OS and distributed under the terms of the</span>
<a name="l00014"></a>00014 <span class="comment"> * GNU General Public License 2.</span>
<a name="l00015"></a>00015 <span class="comment"> * Please see the COPYING-GPL-2 file for details.</span>
<a name="l00016"></a>00016 <span class="comment"> *</span>
<a name="l00017"></a>00017 <span class="comment"> * As a special exception, you may use this file as part of a free software</span>
<a name="l00018"></a>00018 <span class="comment"> * library without restriction.  Specifically, if other files instantiate</span>
<a name="l00019"></a>00019 <span class="comment"> * templates or use macros or inline functions from this file, or you compile</span>
<a name="l00020"></a>00020 <span class="comment"> * this file and link it with other files to produce an executable, this</span>
<a name="l00021"></a>00021 <span class="comment"> * file does not by itself cause the resulting executable to be covered by</span>
<a name="l00022"></a>00022 <span class="comment"> * the GNU General Public License.  This exception does not however</span>
<a name="l00023"></a>00023 <span class="comment"> * invalidate any other reasons why the executable file might be covered by</span>
<a name="l00024"></a>00024 <span class="comment"> * the GNU General Public License.</span>
<a name="l00025"></a>00025 <span class="comment"> */</span>
<a name="l00026"></a>00026 <span class="preprocessor">#pragma once</span>
<a name="l00027"></a>00027 <span class="preprocessor"></span>
<a name="l00055"></a><a class="code" href="group__l4__fpage__api.html#ga670fb9abc808350075cf7ec1feb26275">00055</a> <span class="keyword">enum</span> <a class="code" href="group__l4__fpage__api.html#ga670fb9abc808350075cf7ec1feb26275" title="L4 flexpage structure.">l4_fpage_consts</a>
<a name="l00056"></a>00056 {
<a name="l00057"></a><a class="code" href="group__l4__fpage__api.html#gga670fb9abc808350075cf7ec1feb26275af1732de023f921efbb10475a64bdc87f">00057</a>   <a class="code" href="group__l4__fpage__api.html#gga670fb9abc808350075cf7ec1feb26275af1732de023f921efbb10475a64bdc87f" title="Access permissions shift.">L4_FPAGE_RIGHTS_SHIFT</a> = 0,  
<a name="l00058"></a><a class="code" href="group__l4__fpage__api.html#gga670fb9abc808350075cf7ec1feb26275a52ce37be44fed1c912b4cbf3d6c263cb">00058</a>   <a class="code" href="group__l4__fpage__api.html#gga670fb9abc808350075cf7ec1feb26275a52ce37be44fed1c912b4cbf3d6c263cb" title="Flexpage type shift (memory, IO port, obj...).">L4_FPAGE_TYPE_SHIFT</a>   = 4,  
<a name="l00059"></a><a class="code" href="group__l4__fpage__api.html#gga670fb9abc808350075cf7ec1feb26275afd349028410be3c104040d52ff8e4b0c">00059</a>   <a class="code" href="group__l4__fpage__api.html#gga670fb9abc808350075cf7ec1feb26275afd349028410be3c104040d52ff8e4b0c" title="Flexpage size shift (log2-based).">L4_FPAGE_SIZE_SHIFT</a>   = 6,  
<a name="l00060"></a><a class="code" href="group__l4__fpage__api.html#gga670fb9abc808350075cf7ec1feb26275a2dbf44d03d51b8f6748ecc29d4bed0d5">00060</a>   <a class="code" href="group__l4__fpage__api.html#gga670fb9abc808350075cf7ec1feb26275a2dbf44d03d51b8f6748ecc29d4bed0d5" title="Page address shift.">L4_FPAGE_ADDR_SHIFT</a>   = 12, 
<a name="l00061"></a>00061 
<a name="l00062"></a><a class="code" href="group__l4__fpage__api.html#gga670fb9abc808350075cf7ec1feb26275aaf66cb52092d494ab57290d1eaf681b7">00062</a>   <a class="code" href="group__l4__fpage__api.html#gga670fb9abc808350075cf7ec1feb26275aaf66cb52092d494ab57290d1eaf681b7" title="Access permissions size.">L4_FPAGE_RIGHTS_BITS</a> = 4,   
<a name="l00063"></a><a class="code" href="group__l4__fpage__api.html#gga670fb9abc808350075cf7ec1feb26275a96b503ed985670a75840e6838530f459">00063</a>   <a class="code" href="group__l4__fpage__api.html#gga670fb9abc808350075cf7ec1feb26275a96b503ed985670a75840e6838530f459" title="Flexpage type size (memory, IO port, obj...).">L4_FPAGE_TYPE_BITS</a>   = 2,   
<a name="l00064"></a><a class="code" href="group__l4__fpage__api.html#gga670fb9abc808350075cf7ec1feb26275aee14168391d1c2ef49e074778f0e11e5">00064</a>   <a class="code" href="group__l4__fpage__api.html#gga670fb9abc808350075cf7ec1feb26275aee14168391d1c2ef49e074778f0e11e5" title="Flexpage size size (log2-based).">L4_FPAGE_SIZE_BITS</a>   = 6,   
<a name="l00065"></a><a class="code" href="group__l4__fpage__api.html#gga670fb9abc808350075cf7ec1feb26275ac412abb32e9c295bcde26f99636be449">00065</a>   <a class="code" href="group__l4__fpage__api.html#gga670fb9abc808350075cf7ec1feb26275ac412abb32e9c295bcde26f99636be449" title="Page address size.">L4_FPAGE_ADDR_BITS</a>   = <a class="code" href="group__l4__basic__types.html#ga994a270c5c1613a5e235e212bc6a5af9" title="Size of machine words in bits.">L4_MWORD_BITS</a> - L4_FPAGE_ADDR_SHIFT,  
<a name="l00066"></a>00066 
<a name="l00067"></a>00067 
<a name="l00068"></a>00068   L4_FPAGE_RIGHTS_MASK  = ((1UL &lt;&lt; L4_FPAGE_RIGHTS_BITS) - 1) &lt;&lt; L4_FPAGE_RIGHTS_SHIFT,
<a name="l00069"></a>00069   L4_FPAGE_TYPE_MASK    = ((1UL &lt;&lt; L4_FPAGE_TYPE_BITS)   - 1) &lt;&lt; L4_FPAGE_TYPE_SHIFT,
<a name="l00070"></a>00070   L4_FPAGE_SIZE_MASK    = ((1UL &lt;&lt; L4_FPAGE_SIZE_BITS)   - 1) &lt;&lt; L4_FPAGE_SIZE_SHIFT,
<a name="l00071"></a>00071   L4_FPAGE_ADDR_MASK    = ((1UL &lt;&lt; L4_FPAGE_ADDR_BITS)   - 1) &lt;&lt; L4_FPAGE_ADDR_SHIFT,
<a name="l00072"></a>00072 };
<a name="l00073"></a>00073 
<a name="l00078"></a><a class="code" href="unionl4__fpage__t.html">00078</a> <span class="keyword">typedef</span> <span class="keyword">union </span>{
<a name="l00079"></a><a class="code" href="unionl4__fpage__t.html#aa63e8d3b5f8f5d4bd6f634160a08a68a">00079</a>   <a class="code" href="group__l4__basic__types.html#ga1c2c4b333f75b1d05b59855910f2b9cb" title="Unsigned machine word.">l4_umword_t</a> fpage;          
<a name="l00080"></a><a class="code" href="unionl4__fpage__t.html#a5db4caad82d0e823da85625f465634e0">00080</a>   <a class="code" href="group__l4__basic__types.html#ga1c2c4b333f75b1d05b59855910f2b9cb" title="Unsigned machine word.">l4_umword_t</a> raw;            
<a name="l00081"></a>00081 } <a class="code" href="unionl4__fpage__t.html" title="L4 flexpage type.">l4_fpage_t</a>;
<a name="l00082"></a>00082 
<a name="l00086"></a>00086 <span class="keyword">enum</span>
<a name="l00087"></a>00087 {
<a name="l00088"></a><a class="code" href="group__l4__fpage__api.html#ggaa156d1cebb38c8a65846c4d9c006012aac173c35abf62068a3720e4a9dc257f17">00088</a>   <a class="code" href="group__l4__fpage__api.html#ggaa156d1cebb38c8a65846c4d9c006012aac173c35abf62068a3720e4a9dc257f17" title="Whole address space size.">L4_WHOLE_ADDRESS_SPACE</a> = 63 
<a name="l00089"></a>00089 };
<a name="l00090"></a>00090 
<a name="l00095"></a><a class="code" href="structl4__snd__fpage__t.html">00095</a> <span class="keyword">typedef</span> <span class="keyword">struct </span>{
<a name="l00096"></a><a class="code" href="structl4__snd__fpage__t.html#af6ab00233d8628dd13af14d4db9a8189">00096</a>   <a class="code" href="group__l4__basic__types.html#ga1c2c4b333f75b1d05b59855910f2b9cb" title="Unsigned machine word.">l4_umword_t</a> snd_base;      
<a name="l00097"></a><a class="code" href="structl4__snd__fpage__t.html#adddf1207c4cafb5754c32fcfefeae05a">00097</a>   <a class="code" href="unionl4__fpage__t.html" title="L4 flexpage type.">l4_fpage_t</a> fpage;          
<a name="l00098"></a>00098 } <a class="code" href="structl4__snd__fpage__t.html" title="Send-flex-page types.">l4_snd_fpage_t</a>;
<a name="l00099"></a>00099 
<a name="l00100"></a>00100 
<a name="l00104"></a><a class="code" href="group__l4__fpage__api.html#ga5d4f4972d58f72b2a33b6c139b5950a8">00104</a> <span class="keyword">enum</span> <a class="code" href="group__l4__fpage__api.html#ga5d4f4972d58f72b2a33b6c139b5950a8" title="Flex-page rights.">L4_fpage_rights</a>
<a name="l00105"></a>00105 {
<a name="l00106"></a><a class="code" href="group__l4__fpage__api.html#gga5d4f4972d58f72b2a33b6c139b5950a8a555326b01b4fe72916157bdc90307691">00106</a>   <a class="code" href="group__l4__fpage__api.html#gga5d4f4972d58f72b2a33b6c139b5950a8a555326b01b4fe72916157bdc90307691" title="Read-only flex page.">L4_FPAGE_RO</a>    = 4, 
<a name="l00107"></a><a class="code" href="group__l4__fpage__api.html#gga5d4f4972d58f72b2a33b6c139b5950a8aa9a87bc5e91b05451bfd72b5278b7d1b">00107</a>   <a class="code" href="group__l4__fpage__api.html#gga5d4f4972d58f72b2a33b6c139b5950a8aa9a87bc5e91b05451bfd72b5278b7d1b" title="Read-write flex page.">L4_FPAGE_RW</a>    = 6, 
<a name="l00108"></a>00108   L4_FPAGE_RX    = 5,
<a name="l00109"></a>00109   L4_FPAGE_RWX   = 7,
<a name="l00110"></a>00110   L4_FPAGE_X     = 1,
<a name="l00111"></a>00111   L4_FPAGE_W     = 2,
<a name="l00112"></a>00112 };
<a name="l00113"></a>00113 
<a name="l00117"></a><a class="code" href="group__l4__fpage__api.html#gaee60789a48cab2782f5a368237591b39">00117</a> <span class="keyword">enum</span> <a class="code" href="group__l4__fpage__api.html#gaee60789a48cab2782f5a368237591b39" title="Cap-flex-page rights.">L4_cap_fpage_rights</a>
<a name="l00118"></a>00118 {
<a name="l00119"></a><a class="code" href="group__l4__fpage__api.html#ggaee60789a48cab2782f5a368237591b39a1cdb82ad70ed42f63968df2f8ce84bf5">00119</a>   <a class="code" href="group__l4__fpage__api.html#ggaee60789a48cab2782f5a368237591b39a1cdb82ad70ed42f63968df2f8ce84bf5" title="Read-only cap.">L4_CAP_FPAGE_R</a>     = 0x4, 
<a name="l00120"></a><a class="code" href="group__l4__fpage__api.html#ggaee60789a48cab2782f5a368237591b39a11c1416f531fdb44d1d02c3de2fcb3e8">00120</a>   <a class="code" href="group__l4__fpage__api.html#ggaee60789a48cab2782f5a368237591b39a11c1416f531fdb44d1d02c3de2fcb3e8" title="Read-only cap.">L4_CAP_FPAGE_RO</a>    = 0x4, 
<a name="l00121"></a><a class="code" href="group__l4__fpage__api.html#ggaee60789a48cab2782f5a368237591b39a3cca0a716e3eb64c770567932460203f">00121</a>   <a class="code" href="group__l4__fpage__api.html#ggaee60789a48cab2782f5a368237591b39a3cca0a716e3eb64c770567932460203f" title="Read-write cap.">L4_CAP_FPAGE_RW</a>    = 0x5, 
<a name="l00122"></a>00122   L4_CAP_FPAGE_RS    = 0x6,
<a name="l00123"></a>00123   L4_CAP_FPAGE_RWS   = 0x7,
<a name="l00124"></a>00124   L4_CAP_FPAGE_S     = 0x2,
<a name="l00125"></a>00125   L4_CAP_FPAGE_W     = 0x1,
<a name="l00126"></a>00126   L4_CAP_FPAGE_D     = 0x8,
<a name="l00127"></a>00127   L4_CAP_FPAGE_RWSD  = 0xf,
<a name="l00128"></a>00128   L4_CAP_FPAGE_RSD   = 0xe,
<a name="l00129"></a>00129 };
<a name="l00130"></a>00130 
<a name="l00134"></a><a class="code" href="group__l4__fpage__api.html#gacbb9260e4a3b77be0fc14df24b838d52">00134</a> <span class="keyword">enum</span> <a class="code" href="group__l4__fpage__api.html#gacbb9260e4a3b77be0fc14df24b838d52" title="Flex-page type.">L4_fpage_type</a>
<a name="l00135"></a>00135 {
<a name="l00136"></a>00136   L4_FPAGE_SPECIAL = 0,
<a name="l00137"></a>00137   L4_FPAGE_MEMORY  = 1,
<a name="l00138"></a>00138   L4_FPAGE_IO      = 2,
<a name="l00139"></a>00139   L4_FPAGE_OBJ     = 3,
<a name="l00140"></a>00140 };
<a name="l00141"></a>00141 
<a name="l00145"></a><a class="code" href="group__l4__fpage__api.html#ga684a8de4337d3522078bec37d96d2098">00145</a> <span class="keyword">enum</span> <a class="code" href="group__l4__fpage__api.html#ga684a8de4337d3522078bec37d96d2098" title="Flex-page map control flags.">L4_fpage_control</a>
<a name="l00146"></a>00146 {
<a name="l00147"></a>00147   L4_FPAGE_CONTROL_OFFSET_SHIFT = 10,
<a name="l00148"></a>00148   L4_FPAGE_CONTROL_MASK = ~0UL &lt;&lt; L4_FPAGE_CONTROL_OFFSET_SHIFT,
<a name="l00149"></a>00149 };
<a name="l00150"></a>00150 
<a name="l00154"></a><a class="code" href="group__l4__fpage__api.html#gad142e99a533af52d358f9940fa00966a">00154</a> <span class="keyword">enum</span> <a class="code" href="group__l4__fpage__api.html#gad142e99a533af52d358f9940fa00966a" title="Flex-page map control for capabilities (snd_base).">L4_obj_fpage_ctl</a>
<a name="l00155"></a>00155 {
<a name="l00156"></a>00156   L4_FPAGE_C_NO_REF_CNT = 0x10,
<a name="l00157"></a>00157   L4_FPAGE_C_REF_CNT    = 0x00,
<a name="l00158"></a>00158 };
<a name="l00159"></a>00159 
<a name="l00160"></a>00160 
<a name="l00164"></a><a class="code" href="group__l4__fpage__api.html#ga547729eef68ea9c0e085c34a66e133fa">00164</a> <span class="keyword">enum</span> <a class="code" href="group__l4__fpage__api.html#ga547729eef68ea9c0e085c34a66e133fa" title="Flex-page cacheability option.">l4_fpage_cacheability_opt_t</a>
<a name="l00165"></a>00165 {
<a name="l00167"></a><a class="code" href="group__l4__fpage__api.html#gga547729eef68ea9c0e085c34a66e133faa020b367a4fd713478c5728e30c27be9b">00167</a>   <a class="code" href="group__l4__fpage__api.html#gga547729eef68ea9c0e085c34a66e133faa020b367a4fd713478c5728e30c27be9b" title="Enable the cacheability option in a send flex page.">L4_FPAGE_CACHE_OPT</a>   = 0x1,
<a name="l00168"></a>00168 
<a name="l00170"></a><a class="code" href="group__l4__fpage__api.html#gga547729eef68ea9c0e085c34a66e133faa0107b2bd5876b8a3bb3ffb738a22a5aa">00170</a>   <a class="code" href="group__l4__fpage__api.html#gga547729eef68ea9c0e085c34a66e133faa0107b2bd5876b8a3bb3ffb738a22a5aa" title="Cacheability option to enable caches for the mapping.">L4_FPAGE_CACHEABLE</a>   = 0x3,
<a name="l00171"></a>00171 
<a name="l00173"></a><a class="code" href="group__l4__fpage__api.html#gga547729eef68ea9c0e085c34a66e133faa63cb59df38cd7648ee0163b777cdf84f">00173</a>   <a class="code" href="group__l4__fpage__api.html#gga547729eef68ea9c0e085c34a66e133faa63cb59df38cd7648ee0163b777cdf84f" title="Cacheability option to enable buffered writes for the mapping.">L4_FPAGE_BUFFERABLE</a>  = 0x5,
<a name="l00174"></a>00174 
<a name="l00176"></a><a class="code" href="group__l4__fpage__api.html#gga547729eef68ea9c0e085c34a66e133faa5ee8ca3328cbd7da944ffa573baf9d97">00176</a>   <a class="code" href="group__l4__fpage__api.html#gga547729eef68ea9c0e085c34a66e133faa5ee8ca3328cbd7da944ffa573baf9d97" title="Cacheability option to disable caching for the mapping.">L4_FPAGE_UNCACHEABLE</a> = 0x1
<a name="l00177"></a>00177 };
<a name="l00178"></a>00178 
<a name="l00179"></a>00179 
<a name="l00183"></a>00183 <span class="keyword">enum</span>
<a name="l00184"></a>00184 {
<a name="l00186"></a><a class="code" href="group__l4__fpage__api.html#ggaf8654c714018c6241d9ebd01f3fb5a26a56842adf0290f2327a557c91dc590fde">00186</a>   <a class="code" href="group__l4__fpage__api.html#ggaf8654c714018c6241d9ebd01f3fb5a26a56842adf0290f2327a557c91dc590fde" title="Whole I/O address space size.">L4_WHOLE_IOADDRESS_SPACE</a>  = 16,
<a name="l00187"></a>00187 
<a name="l00189"></a><a class="code" href="group__l4__fpage__api.html#ggaf8654c714018c6241d9ebd01f3fb5a26a96adafdf05a382f5d9e9882630098753">00189</a>   <a class="code" href="group__l4__fpage__api.html#ggaf8654c714018c6241d9ebd01f3fb5a26a96adafdf05a382f5d9e9882630098753" title="Maximum I/O port address.">L4_IOPORT_MAX</a>             = (1L &lt;&lt; L4_WHOLE_IOADDRESS_SPACE)
<a name="l00190"></a>00190 };
<a name="l00191"></a>00191 
<a name="l00192"></a>00192 
<a name="l00193"></a>00193 
<a name="l00204"></a>00204 L4_INLINE <a class="code" href="unionl4__fpage__t.html" title="L4 flexpage type.">l4_fpage_t</a>
<a name="l00205"></a>00205 <a class="code" href="group__l4__fpage__api.html#ga41733d62d4e8a6de1b99bc8bb8f4a253" title="Create a memory flex page.">l4_fpage</a>(<span class="keywordtype">unsigned</span> <span class="keywordtype">long</span> address, <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> size, <span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> rights) L4_NOTHROW;
<a name="l00206"></a>00206 
<a name="l00213"></a>00213 L4_INLINE <a class="code" href="unionl4__fpage__t.html" title="L4 flexpage type.">l4_fpage_t</a>
<a name="l00214"></a>00214 <a class="code" href="group__l4__fpage__api.html#ga571572d1f1f3895b06562aa6a818bf12" title="Get a flex page, describing all address spaces at once.">l4_fpage_all</a>(<span class="keywordtype">void</span>) L4_NOTHROW;
<a name="l00215"></a>00215 
<a name="l00222"></a>00222 L4_INLINE <a class="code" href="unionl4__fpage__t.html" title="L4 flexpage type.">l4_fpage_t</a>
<a name="l00223"></a>00223 <a class="code" href="group__l4__fpage__api.html#gae582748fc4a5aa86207a840e3488819a" title="Get an invalid flex page.">l4_fpage_invalid</a>(<span class="keywordtype">void</span>) L4_NOTHROW;
<a name="l00224"></a>00224 
<a name="l00225"></a>00225 
<a name="l00235"></a>00235 L4_INLINE <a class="code" href="unionl4__fpage__t.html" title="L4 flexpage type.">l4_fpage_t</a>
<a name="l00236"></a>00236 <a class="code" href="group__l4__fpage__api.html#gac623c94001223760fe0d734828c1956a" title="Create an IO-port flex page.">l4_iofpage</a>(<span class="keywordtype">unsigned</span> <span class="keywordtype">long</span> port, <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> size) L4_NOTHROW;
<a name="l00237"></a>00237 
<a name="l00238"></a>00238 
<a name="l00250"></a>00250 L4_INLINE <a class="code" href="unionl4__fpage__t.html" title="L4 flexpage type.">l4_fpage_t</a>
<a name="l00251"></a>00251 <a class="code" href="group__l4__fpage__api.html#ga3eaf59757a63812044e2b3a1cdf09d54" title="Create a kernel-object flex page.">l4_obj_fpage</a>(<a class="code" href="group__l4__cap__api.html#ga1445e923ce73029130d569d6e69a4dd8" title="L4 Capability selector Type.">l4_cap_idx_t</a> obj, <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> order, <span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> rights) L4_NOTHROW;
<a name="l00252"></a>00252 
<a name="l00260"></a>00260 L4_INLINE <span class="keywordtype">int</span>
<a name="l00261"></a>00261 <a class="code" href="group__l4__fpage__api.html#gabc522b5b530c73bfd45e3c34956bac94" title="Test if the flex page is writable.">l4_is_fpage_writable</a>(<a class="code" href="unionl4__fpage__t.html" title="L4 flexpage type.">l4_fpage_t</a> fp) L4_NOTHROW;
<a name="l00262"></a>00262 
<a name="l00263"></a>00263 
<a name="l00297"></a>00297 L4_INLINE <a class="code" href="group__l4__basic__types.html#ga1c2c4b333f75b1d05b59855910f2b9cb" title="Unsigned machine word.">l4_umword_t</a>
<a name="l00298"></a>00298 <a class="code" href="group__l4__msgitem__api.html#ga1ce1321fd25614e9af43a35819540ba7" title="Create the first word for a map item for the memory space.">l4_map_control</a>(<a class="code" href="group__l4__basic__types.html#ga1c2c4b333f75b1d05b59855910f2b9cb" title="Unsigned machine word.">l4_umword_t</a> spot, <span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> cache, <span class="keywordtype">unsigned</span> grant) L4_NOTHROW;
<a name="l00299"></a>00299 
<a name="l00311"></a>00311 L4_INLINE <a class="code" href="group__l4__basic__types.html#ga1c2c4b333f75b1d05b59855910f2b9cb" title="Unsigned machine word.">l4_umword_t</a>
<a name="l00312"></a>00312 <a class="code" href="group__l4__msgitem__api.html#ga6c9056957ac92e458eaabcbf3223ce6f" title="Create the first word for a map item for the object space.">l4_map_obj_control</a>(<a class="code" href="group__l4__basic__types.html#ga1c2c4b333f75b1d05b59855910f2b9cb" title="Unsigned machine word.">l4_umword_t</a> spot, <span class="keywordtype">unsigned</span> grant) L4_NOTHROW;
<a name="l00313"></a>00313 
<a name="l00321"></a>00321 L4_INLINE <span class="keywordtype">unsigned</span>
<a name="l00322"></a>00322 <a class="code" href="group__l4__fpage__api.html#gaad7579a5ab36d5cbda48bbb4fc365cd7" title="Return rights from a flex page.">l4_fpage_rights</a>(<a class="code" href="unionl4__fpage__t.html" title="L4 flexpage type.">l4_fpage_t</a> f) L4_NOTHROW;
<a name="l00323"></a>00323 
<a name="l00331"></a>00331 L4_INLINE <span class="keywordtype">unsigned</span>
<a name="l00332"></a>00332 <a class="code" href="group__l4__fpage__api.html#ga7616290ff22f4145650aa664d012f833" title="Return type from a flex page.">l4_fpage_type</a>(<a class="code" href="unionl4__fpage__t.html" title="L4 flexpage type.">l4_fpage_t</a> f) L4_NOTHROW;
<a name="l00333"></a>00333 
<a name="l00341"></a>00341 L4_INLINE <span class="keywordtype">unsigned</span>
<a name="l00342"></a>00342 <a class="code" href="group__l4__fpage__api.html#ga905f25ce8cd4e02fb988702dc85e18e0" title="Return size from a flex page.">l4_fpage_size</a>(<a class="code" href="unionl4__fpage__t.html" title="L4 flexpage type.">l4_fpage_t</a> f) L4_NOTHROW;
<a name="l00343"></a>00343 
<a name="l00351"></a>00351 L4_INLINE <span class="keywordtype">unsigned</span> <span class="keywordtype">long</span>
<a name="l00352"></a>00352 <a class="code" href="group__l4__fpage__api.html#ga0a2b8a60053c0a34eb1cbdcc5db9a430" title="Return page from a flex page.">l4_fpage_page</a>(<a class="code" href="unionl4__fpage__t.html" title="L4 flexpage type.">l4_fpage_t</a> f) L4_NOTHROW;
<a name="l00353"></a>00353 
<a name="l00363"></a>00363 L4_INLINE <a class="code" href="unionl4__fpage__t.html" title="L4 flexpage type.">l4_fpage_t</a>
<a name="l00364"></a>00364 <a class="code" href="group__l4__fpage__api.html#ga5880fdaee96b73af90089df79c0d42a5" title="Set new right in a flex page.">l4_fpage_set_rights</a>(<a class="code" href="unionl4__fpage__t.html" title="L4 flexpage type.">l4_fpage_t</a> src, <span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> new_rights) L4_NOTHROW;
<a name="l00365"></a>00365 
<a name="l00374"></a>00374 L4_INLINE <span class="keywordtype">int</span>
<a name="l00375"></a>00375 <a class="code" href="group__l4__fpage__api.html#ga8d5c162a83108110952dbb1dd20f6c03" title="Test whether a given range is completely within an fpage.">l4_fpage_contains</a>(<a class="code" href="unionl4__fpage__t.html" title="L4 flexpage type.">l4_fpage_t</a> fpage, <a class="code" href="group__l4__basic__types.html#ga4087b991c40c0d2fcde9ca331049a4d4" title="Address type.">l4_addr_t</a> addr, <span class="keywordtype">unsigned</span> size) L4_NOTHROW;
<a name="l00376"></a>00376 
<a name="l00393"></a>00393 L4_INLINE <span class="keywordtype">unsigned</span> <span class="keywordtype">char</span>
<a name="l00394"></a>00394 <a class="code" href="group__l4__fpage__api.html#ga2d2cf6e4004f8476be5ca1839cfe50d8" title="Determine maximum flex page size of a region.">l4_fpage_max_order</a>(<span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> order, <a class="code" href="group__l4__basic__types.html#ga4087b991c40c0d2fcde9ca331049a4d4" title="Address type.">l4_addr_t</a> addr,
<a name="l00395"></a>00395                    <a class="code" href="group__l4__basic__types.html#ga4087b991c40c0d2fcde9ca331049a4d4" title="Address type.">l4_addr_t</a> min_addr, <a class="code" href="group__l4__basic__types.html#ga4087b991c40c0d2fcde9ca331049a4d4" title="Address type.">l4_addr_t</a> max_addr,
<a name="l00396"></a>00396                    <a class="code" href="group__l4__basic__types.html#ga4087b991c40c0d2fcde9ca331049a4d4" title="Address type.">l4_addr_t</a> hotspot L4_DEFAULT_PARAM(0));
<a name="l00397"></a>00397 
<a name="l00398"></a>00398 <span class="comment">/*************************************************************************</span>
<a name="l00399"></a>00399 <span class="comment"> * Implementations</span>
<a name="l00400"></a>00400 <span class="comment"> *************************************************************************/</span>
<a name="l00401"></a>00401 
<a name="l00402"></a>00402 L4_INLINE <span class="keywordtype">unsigned</span>
<a name="l00403"></a><a class="code" href="group__l4__fpage__api.html#gaad7579a5ab36d5cbda48bbb4fc365cd7">00403</a> <a class="code" href="group__l4__fpage__api.html#gaad7579a5ab36d5cbda48bbb4fc365cd7" title="Return rights from a flex page.">l4_fpage_rights</a>(<a class="code" href="unionl4__fpage__t.html" title="L4 flexpage type.">l4_fpage_t</a> f) L4_NOTHROW
<a name="l00404"></a>00404 {
<a name="l00405"></a>00405   <span class="keywordflow">return</span> (f.raw &amp; L4_FPAGE_RIGHTS_MASK) &gt;&gt; L4_FPAGE_RIGHTS_SHIFT;
<a name="l00406"></a>00406 }
<a name="l00407"></a>00407 
<a name="l00408"></a>00408 L4_INLINE <span class="keywordtype">unsigned</span>
<a name="l00409"></a><a class="code" href="group__l4__fpage__api.html#ga7616290ff22f4145650aa664d012f833">00409</a> <a class="code" href="group__l4__fpage__api.html#ga7616290ff22f4145650aa664d012f833" title="Return type from a flex page.">l4_fpage_type</a>(<a class="code" href="unionl4__fpage__t.html" title="L4 flexpage type.">l4_fpage_t</a> f) L4_NOTHROW
<a name="l00410"></a>00410 {
<a name="l00411"></a>00411   <span class="keywordflow">return</span> (f.raw &amp; L4_FPAGE_TYPE_MASK) &gt;&gt; L4_FPAGE_TYPE_SHIFT;
<a name="l00412"></a>00412 }
<a name="l00413"></a>00413 
<a name="l00414"></a>00414 L4_INLINE <span class="keywordtype">unsigned</span>
<a name="l00415"></a><a class="code" href="group__l4__fpage__api.html#ga905f25ce8cd4e02fb988702dc85e18e0">00415</a> <a class="code" href="group__l4__fpage__api.html#ga905f25ce8cd4e02fb988702dc85e18e0" title="Return size from a flex page.">l4_fpage_size</a>(<a class="code" href="unionl4__fpage__t.html" title="L4 flexpage type.">l4_fpage_t</a> f) L4_NOTHROW
<a name="l00416"></a>00416 {
<a name="l00417"></a>00417   <span class="keywordflow">return</span> (f.raw &amp; L4_FPAGE_SIZE_MASK) &gt;&gt; L4_FPAGE_SIZE_SHIFT;
<a name="l00418"></a>00418 }
<a name="l00419"></a>00419 
<a name="l00420"></a>00420 L4_INLINE <span class="keywordtype">unsigned</span> <span class="keywordtype">long</span>
<a name="l00421"></a><a class="code" href="group__l4__fpage__api.html#ga0a2b8a60053c0a34eb1cbdcc5db9a430">00421</a> <a class="code" href="group__l4__fpage__api.html#ga0a2b8a60053c0a34eb1cbdcc5db9a430" title="Return page from a flex page.">l4_fpage_page</a>(<a class="code" href="unionl4__fpage__t.html" title="L4 flexpage type.">l4_fpage_t</a> f) L4_NOTHROW
<a name="l00422"></a>00422 {
<a name="l00423"></a>00423   <span class="keywordflow">return</span> (f.raw &amp; L4_FPAGE_ADDR_MASK) &gt;&gt; L4_FPAGE_ADDR_SHIFT;
<a name="l00424"></a>00424 }
<a name="l00425"></a>00425 
<a name="l00427"></a>00427 L4_INLINE <a class="code" href="unionl4__fpage__t.html" title="L4 flexpage type.">l4_fpage_t</a>
<a name="l00428"></a>00428 __l4_fpage_generic(<span class="keywordtype">unsigned</span> <span class="keywordtype">long</span> address, <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> type,
<a name="l00429"></a>00429                    <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> size, <span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> rights) L4_NOTHROW;
<a name="l00430"></a>00430 
<a name="l00431"></a>00431 L4_INLINE <a class="code" href="unionl4__fpage__t.html" title="L4 flexpage type.">l4_fpage_t</a>
<a name="l00432"></a>00432 __l4_fpage_generic(<span class="keywordtype">unsigned</span> <span class="keywordtype">long</span> address, <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> type,
<a name="l00433"></a>00433                    <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> size, <span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> rights) L4_NOTHROW
<a name="l00434"></a>00434 {
<a name="l00435"></a>00435   <a class="code" href="unionl4__fpage__t.html" title="L4 flexpage type.">l4_fpage_t</a> t;
<a name="l00436"></a>00436   t.<a class="code" href="unionl4__fpage__t.html#a5db4caad82d0e823da85625f465634e0" title="Raw value.">raw</a> =   ((rights  &lt;&lt; L4_FPAGE_RIGHTS_SHIFT) &amp; L4_FPAGE_RIGHTS_MASK)
<a name="l00437"></a>00437           | ((type    &lt;&lt; L4_FPAGE_TYPE_SHIFT)   &amp; L4_FPAGE_TYPE_MASK)
<a name="l00438"></a>00438     | ((size    &lt;&lt; L4_FPAGE_SIZE_SHIFT)   &amp; L4_FPAGE_SIZE_MASK)
<a name="l00439"></a>00439     | ((address                       )   &amp; L4_FPAGE_ADDR_MASK);
<a name="l00440"></a>00440   <span class="keywordflow">return</span> t;
<a name="l00441"></a>00441 }
<a name="l00442"></a>00442 
<a name="l00443"></a>00443 L4_INLINE <a class="code" href="unionl4__fpage__t.html" title="L4 flexpage type.">l4_fpage_t</a>
<a name="l00444"></a><a class="code" href="group__l4__fpage__api.html#ga5880fdaee96b73af90089df79c0d42a5">00444</a> <a class="code" href="group__l4__fpage__api.html#ga5880fdaee96b73af90089df79c0d42a5" title="Set new right in a flex page.">l4_fpage_set_rights</a>(<a class="code" href="unionl4__fpage__t.html" title="L4 flexpage type.">l4_fpage_t</a> src, <span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> new_rights) L4_NOTHROW
<a name="l00445"></a>00445 {
<a name="l00446"></a>00446   <a class="code" href="unionl4__fpage__t.html" title="L4 flexpage type.">l4_fpage_t</a> f;
<a name="l00447"></a>00447   f.<a class="code" href="unionl4__fpage__t.html#a5db4caad82d0e823da85625f465634e0" title="Raw value.">raw</a> = ((L4_FPAGE_TYPE_MASK | L4_FPAGE_SIZE_MASK | L4_FPAGE_ADDR_MASK) &amp; src.raw)
<a name="l00448"></a>00448           | ((new_rights &lt;&lt; L4_FPAGE_RIGHTS_SHIFT) &amp; L4_FPAGE_RIGHTS_MASK);
<a name="l00449"></a>00449   <span class="keywordflow">return</span> f;
<a name="l00450"></a>00450 }
<a name="l00451"></a>00451 
<a name="l00452"></a>00452 L4_INLINE <a class="code" href="unionl4__fpage__t.html" title="L4 flexpage type.">l4_fpage_t</a>
<a name="l00453"></a><a class="code" href="group__l4__fpage__api.html#ga41733d62d4e8a6de1b99bc8bb8f4a253">00453</a> <a class="code" href="group__l4__fpage__api.html#ga41733d62d4e8a6de1b99bc8bb8f4a253" title="Create a memory flex page.">l4_fpage</a>(<span class="keywordtype">unsigned</span> <span class="keywordtype">long</span> address, <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> size, <span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> rights) L4_NOTHROW
<a name="l00454"></a>00454 {
<a name="l00455"></a>00455   <span class="keywordflow">return</span> __l4_fpage_generic(address, L4_FPAGE_MEMORY, size, rights);
<a name="l00456"></a>00456 }
<a name="l00457"></a>00457 
<a name="l00458"></a>00458 L4_INLINE <a class="code" href="unionl4__fpage__t.html" title="L4 flexpage type.">l4_fpage_t</a>
<a name="l00459"></a><a class="code" href="group__l4__fpage__api.html#gac623c94001223760fe0d734828c1956a">00459</a> <a class="code" href="group__l4__fpage__api.html#gac623c94001223760fe0d734828c1956a" title="Create an IO-port flex page.">l4_iofpage</a>(<span class="keywordtype">unsigned</span> <span class="keywordtype">long</span> port, <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> size) L4_NOTHROW
<a name="l00460"></a>00460 {
<a name="l00461"></a>00461   <span class="keywordflow">return</span> __l4_fpage_generic(port &lt;&lt; <a class="code" href="group__l4__fpage__api.html#gga670fb9abc808350075cf7ec1feb26275a2dbf44d03d51b8f6748ecc29d4bed0d5" title="Page address shift.">L4_FPAGE_ADDR_SHIFT</a>, L4_FPAGE_IO, size, <a class="code" href="group__l4__fpage__api.html#gga5d4f4972d58f72b2a33b6c139b5950a8aa9a87bc5e91b05451bfd72b5278b7d1b" title="Read-write flex page.">L4_FPAGE_RW</a>);
<a name="l00462"></a>00462 }
<a name="l00463"></a>00463 
<a name="l00464"></a>00464 L4_INLINE <a class="code" href="unionl4__fpage__t.html" title="L4 flexpage type.">l4_fpage_t</a>
<a name="l00465"></a><a class="code" href="group__l4__fpage__api.html#ga3eaf59757a63812044e2b3a1cdf09d54">00465</a> <a class="code" href="group__l4__fpage__api.html#ga3eaf59757a63812044e2b3a1cdf09d54" title="Create a kernel-object flex page.">l4_obj_fpage</a>(<a class="code" href="group__l4__cap__api.html#ga1445e923ce73029130d569d6e69a4dd8" title="L4 Capability selector Type.">l4_cap_idx_t</a> obj, <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> order, <span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> rights) L4_NOTHROW
<a name="l00466"></a>00466 {
<a name="l00467"></a>00467   <span class="keywordflow">return</span> __l4_fpage_generic(obj, L4_FPAGE_OBJ, order, rights);
<a name="l00468"></a>00468 }
<a name="l00469"></a>00469 
<a name="l00470"></a>00470 L4_INLINE <a class="code" href="unionl4__fpage__t.html" title="L4 flexpage type.">l4_fpage_t</a>
<a name="l00471"></a><a class="code" href="group__l4__fpage__api.html#ga571572d1f1f3895b06562aa6a818bf12">00471</a> <a class="code" href="group__l4__fpage__api.html#ga571572d1f1f3895b06562aa6a818bf12" title="Get a flex page, describing all address spaces at once.">l4_fpage_all</a>(<span class="keywordtype">void</span>) L4_NOTHROW
<a name="l00472"></a>00472 {
<a name="l00473"></a>00473   <span class="keywordflow">return</span> __l4_fpage_generic(0, 0, <a class="code" href="group__l4__fpage__api.html#ggaa156d1cebb38c8a65846c4d9c006012aac173c35abf62068a3720e4a9dc257f17" title="Whole address space size.">L4_WHOLE_ADDRESS_SPACE</a>, 0);
<a name="l00474"></a>00474 }
<a name="l00475"></a>00475 
<a name="l00476"></a>00476 L4_INLINE <a class="code" href="unionl4__fpage__t.html" title="L4 flexpage type.">l4_fpage_t</a>
<a name="l00477"></a><a class="code" href="group__l4__fpage__api.html#gae582748fc4a5aa86207a840e3488819a">00477</a> <a class="code" href="group__l4__fpage__api.html#gae582748fc4a5aa86207a840e3488819a" title="Get an invalid flex page.">l4_fpage_invalid</a>(<span class="keywordtype">void</span>) L4_NOTHROW
<a name="l00478"></a>00478 {
<a name="l00479"></a>00479   <span class="keywordflow">return</span> __l4_fpage_generic(0, 0, 0, 0);
<a name="l00480"></a>00480 }
<a name="l00481"></a>00481 
<a name="l00482"></a>00482 
<a name="l00483"></a>00483 L4_INLINE <span class="keywordtype">int</span>
<a name="l00484"></a><a class="code" href="group__l4__fpage__api.html#gabc522b5b530c73bfd45e3c34956bac94">00484</a> <a class="code" href="group__l4__fpage__api.html#gabc522b5b530c73bfd45e3c34956bac94" title="Test if the flex page is writable.">l4_is_fpage_writable</a>(<a class="code" href="unionl4__fpage__t.html" title="L4 flexpage type.">l4_fpage_t</a> fp) L4_NOTHROW
<a name="l00485"></a>00485 {
<a name="l00486"></a>00486   <span class="keywordflow">return</span> <a class="code" href="group__l4__fpage__api.html#gaad7579a5ab36d5cbda48bbb4fc365cd7" title="Return rights from a flex page.">l4_fpage_rights</a>(fp) &amp; L4_FPAGE_W;
<a name="l00487"></a>00487 }
<a name="l00488"></a>00488 
<a name="l00489"></a>00489 L4_INLINE <a class="code" href="group__l4__basic__types.html#ga1c2c4b333f75b1d05b59855910f2b9cb" title="Unsigned machine word.">l4_umword_t</a>
<a name="l00490"></a><a class="code" href="group__l4__msgitem__api.html#ga1ce1321fd25614e9af43a35819540ba7">00490</a> <a class="code" href="group__l4__msgitem__api.html#ga1ce1321fd25614e9af43a35819540ba7" title="Create the first word for a map item for the memory space.">l4_map_control</a>(<a class="code" href="group__l4__basic__types.html#ga1c2c4b333f75b1d05b59855910f2b9cb" title="Unsigned machine word.">l4_umword_t</a> snd_base, <span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> cache, <span class="keywordtype">unsigned</span> grant) L4_NOTHROW
<a name="l00491"></a>00491 {
<a name="l00492"></a>00492   <span class="keywordflow">return</span> (snd_base &amp; L4_FPAGE_CONTROL_MASK)
<a name="l00493"></a>00493          | ((l4_umword_t)cache &lt;&lt; 4) | <a class="code" href="group__l4__msgitem__api.html#gga94ecfe2908867c4ed0c13a7a97337f6aa818a51ad60a66f82775c39c2eb550f4d" title="Identify a message item as map item.">L4_ITEM_MAP</a> | grant;
<a name="l00494"></a>00494 }
<a name="l00495"></a>00495 
<a name="l00496"></a>00496 L4_INLINE <a class="code" href="group__l4__basic__types.html#ga1c2c4b333f75b1d05b59855910f2b9cb" title="Unsigned machine word.">l4_umword_t</a>
<a name="l00497"></a><a class="code" href="group__l4__msgitem__api.html#ga6c9056957ac92e458eaabcbf3223ce6f">00497</a> <a class="code" href="group__l4__msgitem__api.html#ga6c9056957ac92e458eaabcbf3223ce6f" title="Create the first word for a map item for the object space.">l4_map_obj_control</a>(<a class="code" href="group__l4__basic__types.html#ga1c2c4b333f75b1d05b59855910f2b9cb" title="Unsigned machine word.">l4_umword_t</a> snd_base, <span class="keywordtype">unsigned</span> grant) L4_NOTHROW
<a name="l00498"></a>00498 {
<a name="l00499"></a>00499   <span class="keywordflow">return</span> <a class="code" href="group__l4__msgitem__api.html#ga1ce1321fd25614e9af43a35819540ba7" title="Create the first word for a map item for the memory space.">l4_map_control</a>(snd_base, 0, grant);
<a name="l00500"></a>00500 }
<a name="l00501"></a>00501 
<a name="l00502"></a>00502 L4_INLINE <span class="keywordtype">int</span>
<a name="l00503"></a><a class="code" href="group__l4__fpage__api.html#ga8d5c162a83108110952dbb1dd20f6c03">00503</a> <a class="code" href="group__l4__fpage__api.html#ga8d5c162a83108110952dbb1dd20f6c03" title="Test whether a given range is completely within an fpage.">l4_fpage_contains</a>(<a class="code" href="unionl4__fpage__t.html" title="L4 flexpage type.">l4_fpage_t</a> fpage, <a class="code" href="group__l4__basic__types.html#ga4087b991c40c0d2fcde9ca331049a4d4" title="Address type.">l4_addr_t</a> addr, <span class="keywordtype">unsigned</span> log2size) L4_NOTHROW
<a name="l00504"></a>00504 {
<a name="l00505"></a>00505   <a class="code" href="group__l4__basic__types.html#ga4087b991c40c0d2fcde9ca331049a4d4" title="Address type.">l4_addr_t</a> fa = <a class="code" href="group__l4__fpage__api.html#ga0a2b8a60053c0a34eb1cbdcc5db9a430" title="Return page from a flex page.">l4_fpage_page</a>(fpage) &lt;&lt; L4_FPAGE_ADDR_SHIFT;
<a name="l00506"></a>00506   <span class="keywordflow">return</span> (fa &lt;= addr)
<a name="l00507"></a>00507          &amp;&amp; (fa + (1UL &lt;&lt; l4_fpage_size(fpage)) &gt;= addr + (1UL &lt;&lt; log2size));
<a name="l00508"></a>00508 }
<a name="l00509"></a>00509 
<a name="l00510"></a>00510 L4_INLINE <span class="keywordtype">unsigned</span> <span class="keywordtype">char</span>
<a name="l00511"></a>00511 <a class="code" href="group__l4__fpage__api.html#ga2d2cf6e4004f8476be5ca1839cfe50d8" title="Determine maximum flex page size of a region.">l4_fpage_max_order</a>(<span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> order, <a class="code" href="group__l4__basic__types.html#ga4087b991c40c0d2fcde9ca331049a4d4" title="Address type.">l4_addr_t</a> addr,
<a name="l00512"></a>00512                    <a class="code" href="group__l4__basic__types.html#ga4087b991c40c0d2fcde9ca331049a4d4" title="Address type.">l4_addr_t</a> min_addr, <a class="code" href="group__l4__basic__types.html#ga4087b991c40c0d2fcde9ca331049a4d4" title="Address type.">l4_addr_t</a> max_addr,
<a name="l00513"></a>00513                    <a class="code" href="group__l4__basic__types.html#ga4087b991c40c0d2fcde9ca331049a4d4" title="Address type.">l4_addr_t</a> hotspot)
<a name="l00514"></a>00514 {
<a name="l00515"></a>00515   <span class="keywordflow">while</span> (order &lt; 30 <span class="comment">/* limit to 1GB flexpages */</span>)
<a name="l00516"></a>00516     {
<a name="l00517"></a>00517       <a class="code" href="group__l4__basic__types.html#ga4087b991c40c0d2fcde9ca331049a4d4" title="Address type.">l4_addr_t</a> mask;
<a name="l00518"></a>00518       <a class="code" href="group__l4__basic__types.html#ga4087b991c40c0d2fcde9ca331049a4d4" title="Address type.">l4_addr_t</a> base = <a class="code" href="group__l4__memory__api.html#ga7e790a6a40066410b02051210cfeb79b" title="Round an address down to the next lower flex page with size bits.">l4_trunc_size</a>(addr, order + 1);
<a name="l00519"></a>00519       <span class="keywordflow">if</span> (base &lt; min_addr)
<a name="l00520"></a>00520         <span class="keywordflow">return</span> order;
<a name="l00521"></a>00521 
<a name="l00522"></a>00522       <span class="keywordflow">if</span> (base + (1UL &lt;&lt; (order + 1)) - 1 &gt; max_addr - 1)
<a name="l00523"></a>00523         <span class="keywordflow">return</span> order;
<a name="l00524"></a>00524 
<a name="l00525"></a>00525       mask = ~(~0UL &lt;&lt; (order + 1));
<a name="l00526"></a>00526       <span class="keywordflow">if</span> (hotspot == ~0UL || ((addr ^ hotspot) &amp; mask))
<a name="l00527"></a>00527         <span class="keywordflow">break</span>;
<a name="l00528"></a>00528 
<a name="l00529"></a>00529       ++order;
<a name="l00530"></a>00530     }
<a name="l00531"></a>00531 
<a name="l00532"></a>00532   <span class="keywordflow">return</span> order;
<a name="l00533"></a>00533 }
</pre></div></div>
</div>
    <div style="background-color: #fff; border-width: 1px 0 0 0; border-color: #000; border-style: solid; text-align: center; margin-top: 10px">
    L4Re - L4 Runtime Environment
    </div>
   </div>
  </body>
</html>
